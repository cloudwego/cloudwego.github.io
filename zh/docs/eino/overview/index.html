<!doctype html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.142.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Eino: 概述 | CloudWeGo</title>
<meta name=description content="A leading practice for building enterprise cloud native middleware!"><meta property="og:url" content="https://www.cloudwego.io/zh/docs/eino/overview/"><meta property="og:site_name" content="CloudWeGo"><meta property="og:title" content="Eino: 概述"><meta property="og:description" content="简介 Eino[‘aino] (近似音: i know，希望应用程序达到 “i know” 的愿景) 旨在提供基于 Golang 语言的终极大模型应用开发框架。 它从开源社区中的诸多优秀 LLM 应用开发框架，如 LangChain 和 LlamaIndex 等获取灵感，同时借鉴前沿研究成果与实际应用，提供了一个强调简洁性、可扩展性、可靠性与有效性，且更符合 Go 语言编程惯例的 LLM 应用开发框架。
Eino 提供的价值如下：
精心整理的一系列 组件（component） 抽象与实现，可轻松复用与组合，用于构建 LLM 应用。 强大的 编排（orchestration） 框架，为用户承担繁重的类型检查、流式处理、并发管理、切面注入、选项赋值等工作。 一套精心设计、注重简洁明了的 API。 以集成 流程（flow） 和 示例（example） 形式不断扩充的最佳实践集合。 一套实用 工具（DevOps tools），涵盖从可视化开发与调试到在线追踪与评估的整个开发生命周期。 Eino 可在 AI 应用开发周期中的不同阶段，规范、简化和提效：
Development: 开箱即用的 AI 相关组件；常见的 Flow 范式；对并发、异步、流式友好的图编排；完善的流处理能力等。这些均可对 AI 应用的开发提供很大助力。 Debugging: 可对图编排的应用，进行可视化的开发调试 Deployment: 提供丰富的对 AI 应用的评测能力 Maintenance: 提供丰富的切面对 AI 应用进行观测、监控 完整 API Reference：https://pkg.go.dev/github.com/cloudwego/eino
快速上手 直接使用组件："><meta property="og:locale" content="zh"><meta property="og:type" content="website"><meta itemprop=name content="Eino: 概述"><meta itemprop=description content="简介 Eino[‘aino] (近似音: i know，希望应用程序达到 “i know” 的愿景) 旨在提供基于 Golang 语言的终极大模型应用开发框架。 它从开源社区中的诸多优秀 LLM 应用开发框架，如 LangChain 和 LlamaIndex 等获取灵感，同时借鉴前沿研究成果与实际应用，提供了一个强调简洁性、可扩展性、可靠性与有效性，且更符合 Go 语言编程惯例的 LLM 应用开发框架。
Eino 提供的价值如下：
精心整理的一系列 组件（component） 抽象与实现，可轻松复用与组合，用于构建 LLM 应用。 强大的 编排（orchestration） 框架，为用户承担繁重的类型检查、流式处理、并发管理、切面注入、选项赋值等工作。 一套精心设计、注重简洁明了的 API。 以集成 流程（flow） 和 示例（example） 形式不断扩充的最佳实践集合。 一套实用 工具（DevOps tools），涵盖从可视化开发与调试到在线追踪与评估的整个开发生命周期。 Eino 可在 AI 应用开发周期中的不同阶段，规范、简化和提效：
Development: 开箱即用的 AI 相关组件；常见的 Flow 范式；对并发、异步、流式友好的图编排；完善的流处理能力等。这些均可对 AI 应用的开发提供很大助力。 Debugging: 可对图编排的应用，进行可视化的开发调试 Deployment: 提供丰富的对 AI 应用的评测能力 Maintenance: 提供丰富的切面对 AI 应用进行观测、监控 完整 API Reference：https://pkg.go.dev/github.com/cloudwego/eino
快速上手 直接使用组件："><meta itemprop=datePublished content="2025-02-10T00:00:00+00:00"><meta itemprop=dateModified content="2025-03-07T17:25:05+08:00"><meta itemprop=wordCount content="2095"><meta name=twitter:card content="summary"><meta name=twitter:title content="Eino: 概述"><meta name=twitter:description content="简介 Eino[‘aino] (近似音: i know，希望应用程序达到 “i know” 的愿景) 旨在提供基于 Golang 语言的终极大模型应用开发框架。 它从开源社区中的诸多优秀 LLM 应用开发框架，如 LangChain 和 LlamaIndex 等获取灵感，同时借鉴前沿研究成果与实际应用，提供了一个强调简洁性、可扩展性、可靠性与有效性，且更符合 Go 语言编程惯例的 LLM 应用开发框架。
Eino 提供的价值如下：
精心整理的一系列 组件（component） 抽象与实现，可轻松复用与组合，用于构建 LLM 应用。 强大的 编排（orchestration） 框架，为用户承担繁重的类型检查、流式处理、并发管理、切面注入、选项赋值等工作。 一套精心设计、注重简洁明了的 API。 以集成 流程（flow） 和 示例（example） 形式不断扩充的最佳实践集合。 一套实用 工具（DevOps tools），涵盖从可视化开发与调试到在线追踪与评估的整个开发生命周期。 Eino 可在 AI 应用开发周期中的不同阶段，规范、简化和提效：
Development: 开箱即用的 AI 相关组件；常见的 Flow 范式；对并发、异步、流式友好的图编排；完善的流处理能力等。这些均可对 AI 应用的开发提供很大助力。 Debugging: 可对图编排的应用，进行可视化的开发调试 Deployment: 提供丰富的对 AI 应用的评测能力 Maintenance: 提供丰富的切面对 AI 应用进行观测、监控 完整 API Reference：https://pkg.go.dev/github.com/cloudwego/eino
快速上手 直接使用组件："><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYWRQRLPRM"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QYWRQRLPRM")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?f1808c42af827f368aa7eca3baae6d55",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=preload href=/scss/main.min.b3c21c777309e05201dd625b8a4ece4076249bfa52b71d58c6e352d84c6c0320.css as=style><link href=/scss/main.min.b3c21c777309e05201dd625b8a4ece4076249bfa52b71d58c6e352d84c6c0320.css rel=stylesheet integrity><script src=/js/jquery.min.js></script><link rel=stylesheet href=/css/prism.css><link rel=stylesheet href=/css/docsearch.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYWRQRLPRM"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QYWRQRLPRM")}</script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand-xl navbar-dark td-navbar"><a class=navbar-brand href=/zh/><span class=navbar-logo><img src=/img/logo.png></span>
</a><button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0 ml-auto"><li class="dropdown sub-menu active"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>文档</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/kitex/>Kitex</a>
<a class=dropdown-item href=/zh/docs/hertz/>Hertz</a>
<a class=dropdown-item href=/zh/docs/volo/>Volo</a>
<a class=dropdown-item href=/zh/docs/netpoll/>Netpoll</a>
<a class=dropdown-item href=/zh/docs/cwgo/>Cwgo</a>
<a class=dropdown-item href=/zh/docs/eino/>Eino</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/about/><span>关于</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/blog/><span>博客</span></a></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>社区</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/community/overview/>概述</a>
<a class=dropdown-item href=/zh/community/meeting_notes/>会议记录</a>
<a class=dropdown-item href=/zh/community/weekly_report/>周报</a>
<a class=dropdown-item href=/zh/community/past_activities/>往期活动</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/cooperation/><span>用户案例</span></a></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>[new]企业级解决方案</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=https://www.volcengine.com/docs/6431/1469323>可观测解决方案</a></div></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>安全</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/security/safety-bulletin/>安全公告</a>
<a class=dropdown-item href=/zh/security/vulnerability-reporting/>漏洞管理</a></div></li><li class="nav-item dropdown mr-4"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/eino/overview/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><div id=docsearch></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div id=docsearch></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/eino/overview/>English</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhdocs-li><a href=/zh/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-zhdocs><span>文档</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhdocseino-li><input type=checkbox id=m-zhdocseino-check checked>
<label for=m-zhdocseino-check><a href=/zh/docs/eino/ title="Eino 用户手册" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseino><span>Eino</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhdocseinooverview-li><input type=checkbox id=m-zhdocseinooverview-check checked>
<label for=m-zhdocseinooverview-check><a href=/zh/docs/eino/overview/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__section" id=m-zhdocseinooverview><span class=td-sidebar-nav-active-item>Eino: 概述</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinooverviewbytedance_eino_practice-li><input type=checkbox id=m-zhdocseinooverviewbytedance_eino_practice-check>
<label for=m-zhdocseinooverviewbytedance_eino_practice-check><a href=/zh/docs/eino/overview/bytedance_eino_practice/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinooverviewbytedance_eino_practice><span>字节跳动大模型应用 Go 开发框架 —— Eino 实践</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoovervieweino_open_source-li><input type=checkbox id=m-zhdocseinoovervieweino_open_source-check>
<label for=m-zhdocseinoovervieweino_open_source-check><a href=/zh/docs/eino/overview/eino_open_source/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoovervieweino_open_source><span>大语言模型应用开发框架 —— Eino 正式开源！</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoquick_start-li><input type=checkbox id=m-zhdocseinoquick_start-check checked>
<label for=m-zhdocseinoquick_start-check><a href=/zh/docs/eino/quick_start/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoquick_start><span>Eino: 快速开始</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoquick_startsimple_llm_application-li><input type=checkbox id=m-zhdocseinoquick_startsimple_llm_application-check>
<label for=m-zhdocseinoquick_startsimple_llm_application-check><a href=/zh/docs/eino/quick_start/simple_llm_application/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoquick_startsimple_llm_application><span>实现一个最简 LLM 应用</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoquick_startagent_llm_with_tools-li><input type=checkbox id=m-zhdocseinoquick_startagent_llm_with_tools-check>
<label for=m-zhdocseinoquick_startagent_llm_with_tools-check><a href=/zh/docs/eino/quick_start/agent_llm_with_tools/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoquick_startagent_llm_with_tools><span>Agent-让大模型拥有双手</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_modules-li><input type=checkbox id=m-zhdocseinocore_modules-check checked>
<label for=m-zhdocseinocore_modules-check><a href=/zh/docs/eino/core_modules/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modules><span>Eino: 核心模块</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_modulescomponents-li><input type=checkbox id=m-zhdocseinocore_modulescomponents-check>
<label for=m-zhdocseinocore_modulescomponents-check><a href=/zh/docs/eino/core_modules/components/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modulescomponents><span>Eino: Components 组件</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_modulescomponentsdocument_loader_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsdocument_loader_guide-check>
<label for=m-zhdocseinocore_modulescomponentsdocument_loader_guide-check><a href=/zh/docs/eino/core_modules/components/document_loader_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modulescomponentsdocument_loader_guide><span>Eino: Document Loader 使用说明</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentsdocument_loader_guidedocument_parser_interface_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsdocument_loader_guidedocument_parser_interface_guide-check>
<label for=m-zhdocseinocore_modulescomponentsdocument_loader_guidedocument_parser_interface_guide-check><a href=/zh/docs/eino/core_modules/components/document_loader_guide/document_parser_interface_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentsdocument_loader_guidedocument_parser_interface_guide><span>Eino: Document Parser 接口使用说明</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentsembedding_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsembedding_guide-check>
<label for=m-zhdocseinocore_modulescomponentsembedding_guide-check><a href=/zh/docs/eino/core_modules/components/embedding_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentsembedding_guide><span>Eino: Embedding 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentsdocument_transformer_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsdocument_transformer_guide-check>
<label for=m-zhdocseinocore_modulescomponentsdocument_transformer_guide-check><a href=/zh/docs/eino/core_modules/components/document_transformer_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentsdocument_transformer_guide><span>Eino: Document Transformer 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentslambda_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentslambda_guide-check>
<label for=m-zhdocseinocore_modulescomponentslambda_guide-check><a href=/zh/docs/eino/core_modules/components/lambda_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentslambda_guide><span>Eino: Lambda 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentsindexer_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsindexer_guide-check>
<label for=m-zhdocseinocore_modulescomponentsindexer_guide-check><a href=/zh/docs/eino/core_modules/components/indexer_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentsindexer_guide><span>Eino: Indexer 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentstools_node_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentstools_node_guide-check>
<label for=m-zhdocseinocore_modulescomponentstools_node_guide-check><a href=/zh/docs/eino/core_modules/components/tools_node_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentstools_node_guide><span>Eino: ToolsNode 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentschat_model_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentschat_model_guide-check>
<label for=m-zhdocseinocore_modulescomponentschat_model_guide-check><a href=/zh/docs/eino/core_modules/components/chat_model_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentschat_model_guide><span>Eino: ChatModel 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentsretriever_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsretriever_guide-check>
<label for=m-zhdocseinocore_modulescomponentsretriever_guide-check><a href=/zh/docs/eino/core_modules/components/retriever_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentsretriever_guide><span>Eino: Retriever 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentschat_template_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentschat_template_guide-check>
<label for=m-zhdocseinocore_modulescomponentschat_template_guide-check><a href=/zh/docs/eino/core_modules/components/chat_template_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentschat_template_guide><span>Eino: ChatTemplate 使用说明</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestration-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestration-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestration-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_moduleschain_and_graph_orchestration><span>Eino: Chain & Graph 编排功能</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationchain_graph_introduction-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationchain_graph_introduction-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationchain_graph_introduction-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/chain_graph_introduction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationchain_graph_introduction><span>Eino: Chain/Graph 编排介绍</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationorchestration_design_principles-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationorchestration_design_principles-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationorchestration_design_principles-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/orchestration_design_principles/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationorchestration_design_principles><span>Eino: 编排的设计理念</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcallback_manual-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcallback_manual-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationcallback_manual-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/callback_manual/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcallback_manual><span>Eino: Callback 用户手册</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationstream_programming_essentials-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationstream_programming_essentials-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationstream_programming_essentials-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/stream_programming_essentials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationstream_programming_essentials><span>Eino 流式编程要点</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcall_option_capabilities-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcall_option_capabilities-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationcall_option_capabilities-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/call_option_capabilities/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcall_option_capabilities><span>Eino: CallOption 能力与规范</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_modulesflow_integration_components-li><input type=checkbox id=m-zhdocseinocore_modulesflow_integration_components-check>
<label for=m-zhdocseinocore_modulesflow_integration_components-check><a href=/zh/docs/eino/core_modules/flow_integration_components/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modulesflow_integration_components><span>Eino: Flow 集成组件</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulesflow_integration_componentsreact_agent_manual-li><input type=checkbox id=m-zhdocseinocore_modulesflow_integration_componentsreact_agent_manual-check>
<label for=m-zhdocseinocore_modulesflow_integration_componentsreact_agent_manual-check><a href=/zh/docs/eino/core_modules/flow_integration_components/react_agent_manual/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulesflow_integration_componentsreact_agent_manual><span>Eino: React Agent 使用手册</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulesflow_integration_componentsmulti_agent_hosting-li><input type=checkbox id=m-zhdocseinocore_modulesflow_integration_componentsmulti_agent_hosting-check>
<label for=m-zhdocseinocore_modulesflow_integration_componentsmulti_agent_hosting-check><a href=/zh/docs/eino/core_modules/flow_integration_components/multi_agent_hosting/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulesflow_integration_componentsmulti_agent_hosting><span>Eino Tutorial: Host Multi-Agent</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_modulesdevops-li><input type=checkbox id=m-zhdocseinocore_modulesdevops-check>
<label for=m-zhdocseinocore_modulesdevops-check><a href=/zh/docs/eino/core_modules/devops/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modulesdevops><span>EinoDev: 应用开发工具链</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulesdevopside_plugin_guide-li><input type=checkbox id=m-zhdocseinocore_modulesdevopside_plugin_guide-check>
<label for=m-zhdocseinocore_modulesdevopside_plugin_guide-check><a href=/zh/docs/eino/core_modules/devops/ide_plugin_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulesdevopside_plugin_guide><span>Eino Dev 插件安装指南</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulesdevopsvisual_orchestration_plugin_guide-li><input type=checkbox id=m-zhdocseinocore_modulesdevopsvisual_orchestration_plugin_guide-check>
<label for=m-zhdocseinocore_modulesdevopsvisual_orchestration_plugin_guide-check><a href=/zh/docs/eino/core_modules/devops/visual_orchestration_plugin_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulesdevopsvisual_orchestration_plugin_guide><span>EinoDev 可视化编排插件功能指南</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulesdevopsvisual_debug_plugin_guide-li><input type=checkbox id=m-zhdocseinocore_modulesdevopsvisual_debug_plugin_guide-check>
<label for=m-zhdocseinocore_modulesdevopsvisual_debug_plugin_guide-check><a href=/zh/docs/eino/core_modules/devops/visual_debug_plugin_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulesdevopsvisual_debug_plugin_guide><span>EinoDev 可视化调试插件功能指南</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integration-li><input type=checkbox id=m-zhdocseinoecosystem_integration-check checked>
<label for=m-zhdocseinoecosystem_integration-check><a href=/zh/docs/eino/ecosystem_integration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integration><span>Eino: 生态集成</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationchat_model-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_model-check>
<label for=m-zhdocseinoecosystem_integrationchat_model-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationchat_model><span>ChatModel</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_openai-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_openai-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_openai-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_openai/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_openai><span>ChatModel - OpenAI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ollama-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ollama-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_ollama-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_ollama/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ollama><span>ChatModel - Ollama</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ark-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ark-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_ark-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_ark/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ark><span>ChatModel - ARK</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationcallbacks-li><input type=checkbox id=m-zhdocseinoecosystem_integrationcallbacks-check>
<label for=m-zhdocseinoecosystem_integrationcallbacks-check><a href=/zh/docs/eino/ecosystem_integration/callbacks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationcallbacks><span>Callbacks</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationcallbackscallback_apmplus-li><input type=checkbox id=m-zhdocseinoecosystem_integrationcallbackscallback_apmplus-check>
<label for=m-zhdocseinoecosystem_integrationcallbackscallback_apmplus-check><a href=/zh/docs/eino/ecosystem_integration/callbacks/callback_apmplus/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationcallbackscallback_apmplus><span>Callback - APMPlus</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationcallbackscallback_langfuse-li><input type=checkbox id=m-zhdocseinoecosystem_integrationcallbackscallback_langfuse-check>
<label for=m-zhdocseinoecosystem_integrationcallbackscallback_langfuse-check><a href=/zh/docs/eino/ecosystem_integration/callbacks/callback_langfuse/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationcallbackscallback_langfuse><span>Callback - Langfuse</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationindexer-li><input type=checkbox id=m-zhdocseinoecosystem_integrationindexer-check>
<label for=m-zhdocseinoecosystem_integrationindexer-check><a href=/zh/docs/eino/ecosystem_integration/indexer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationindexer><span>Indexer</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationindexerindexer_volc_vikingdb-li><input type=checkbox id=m-zhdocseinoecosystem_integrationindexerindexer_volc_vikingdb-check>
<label for=m-zhdocseinoecosystem_integrationindexerindexer_volc_vikingdb-check><a href=/zh/docs/eino/ecosystem_integration/indexer/indexer_volc_vikingdb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationindexerindexer_volc_vikingdb><span>Indexer - volc VikingDB</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationretriever-li><input type=checkbox id=m-zhdocseinoecosystem_integrationretriever-check>
<label for=m-zhdocseinoecosystem_integrationretriever-check><a href=/zh/docs/eino/ecosystem_integration/retriever/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationretriever><span>Retriever</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationretrieverretriever_volc_vikingdb-li><input type=checkbox id=m-zhdocseinoecosystem_integrationretrieverretriever_volc_vikingdb-check>
<label for=m-zhdocseinoecosystem_integrationretrieverretriever_volc_vikingdb-check><a href=/zh/docs/eino/ecosystem_integration/retriever/retriever_volc_vikingdb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationretrieverretriever_volc_vikingdb><span>Retriever - volc VikingDB</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationtool-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtool-check>
<label for=m-zhdocseinoecosystem_integrationtool-check><a href=/zh/docs/eino/ecosystem_integration/tool/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationtool><span>Tool</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_duckduckgo_search-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_duckduckgo_search-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_duckduckgo_search-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_duckduckgo_search/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_duckduckgo_search><span>Tool - DuckDuckGoSearch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_googlesearch-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_googlesearch-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_googlesearch-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_googlesearch/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_googlesearch><span>Tool - Googlesearch</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationdocument-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocument-check>
<label for=m-zhdocseinoecosystem_integrationdocument-check><a href=/zh/docs/eino/ecosystem_integration/document/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationdocument><span>Document</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentloader_amazon_s3-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentloader_amazon_s3-check>
<label for=m-zhdocseinoecosystem_integrationdocumentloader_amazon_s3-check><a href=/zh/docs/eino/ecosystem_integration/document/loader_amazon_s3/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentloader_amazon_s3><span>Loader - amazon s3</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentloader_local_file-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentloader_local_file-check>
<label for=m-zhdocseinoecosystem_integrationdocumentloader_local_file-check><a href=/zh/docs/eino/ecosystem_integration/document/loader_local_file/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentloader_local_file><span>Loader - local file</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentloader_web_url-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentloader_web_url-check>
<label for=m-zhdocseinoecosystem_integrationdocumentloader_web_url-check><a href=/zh/docs/eino/ecosystem_integration/document/loader_web_url/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentloader_web_url><span>Loader - web url</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentparser_html-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentparser_html-check>
<label for=m-zhdocseinoecosystem_integrationdocumentparser_html-check><a href=/zh/docs/eino/ecosystem_integration/document/parser_html/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentparser_html><span>Parser - html</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentparser_pdf-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentparser_pdf-check>
<label for=m-zhdocseinoecosystem_integrationdocumentparser_pdf-check><a href=/zh/docs/eino/ecosystem_integration/document/parser_pdf/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentparser_pdf><span>Parser - pdf</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentsplitter_recursive-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentsplitter_recursive-check>
<label for=m-zhdocseinoecosystem_integrationdocumentsplitter_recursive-check><a href=/zh/docs/eino/ecosystem_integration/document/splitter_recursive/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentsplitter_recursive><span>Splitter - recursive</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentsplitter_semantic-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentsplitter_semantic-check>
<label for=m-zhdocseinoecosystem_integrationdocumentsplitter_semantic-check><a href=/zh/docs/eino/ecosystem_integration/document/splitter_semantic/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentsplitter_semantic><span>Splitter - semantic</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentsplitter_markdown-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentsplitter_markdown-check>
<label for=m-zhdocseinoecosystem_integrationdocumentsplitter_markdown-check><a href=/zh/docs/eino/ecosystem_integration/document/splitter_markdown/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentsplitter_markdown><span>Splitter - markdown</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationembedding-li><input type=checkbox id=m-zhdocseinoecosystem_integrationembedding-check>
<label for=m-zhdocseinoecosystem_integrationembedding-check><a href=/zh/docs/eino/ecosystem_integration/embedding/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationembedding><span>Embedding</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationembeddingembedding_ark-li><input type=checkbox id=m-zhdocseinoecosystem_integrationembeddingembedding_ark-check>
<label for=m-zhdocseinoecosystem_integrationembeddingembedding_ark-check><a href=/zh/docs/eino/ecosystem_integration/embedding/embedding_ark/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationembeddingembedding_ark><span>Embedding - ARK</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationembeddingembedding_openai-li><input type=checkbox id=m-zhdocseinoecosystem_integrationembeddingembedding_openai-check>
<label for=m-zhdocseinoecosystem_integrationembeddingembedding_openai-check><a href=/zh/docs/eino/ecosystem_integration/embedding/embedding_openai/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationembeddingembedding_openai><span>Embedding - OpenAI</span></a></label></li></ul></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/cloudwego/cloudwego.github.io/edit/main/content/zh//docs/eino/overview target=_blank><i class="fa fa-edit fa-fw"></i> 编辑此页</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/new/main/content/zh//docs/eino/overview?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> 添加子页面</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/issues/new?labels=bug&amp;template=DOCS_UPDATE.md&amp;title=Eino:%20%e6%a6%82%e8%bf%b0" target=_blank><i class="fab fa-github fa-fw"></i> 提交文档问题</a>
<a href=https://github.com/cloudwego/eino/issues/new/choose target=_blank><i class="fas fa-tasks fa-fw"></i> 提交项目问题</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#简介>简介</a></li><li><a href=#快速上手>快速上手</a></li><li><a href=#关键特性>关键特性</a><ul><li><a href=#丰富的组件component>丰富的组件(Component)</a></li><li><a href=#强大的编排-graphchainworkflow>强大的编排 (Graph/Chain/Workflow)</a></li><li><a href=#完善的流处理streaming>完善的流处理(Streaming)</a></li><li><a href=#高扩展性的切面callbacks>高扩展性的切面(Callbacks)</a></li></ul></li><li><a href=#eino-框架结构>Eino 框架结构</a><ul><li><a href=#component>Component</a></li><li><a href=#runnable>Runnable</a></li><li><a href=#stream-流>Stream 流</a></li><li><a href=#compose-编排>Compose 编排</a></li><li><a href=#切面callbacks>切面(Callbacks)</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://www.cloudwego.io/zh/docs/>文档</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/zh/docs/eino/>Eino</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://www.cloudwego.io/zh/docs/eino/overview/>Eino: 概述</a></li></ol></nav><div class=td-content><h1>Eino: 概述</h1><header class=article-meta></header><h2 id=简介>简介</h2><p><strong>Eino[&lsquo;aino]</strong> (近似音: i know，希望应用程序达到 &ldquo;i know&rdquo; 的愿景) 旨在提供基于 Golang 语言的终极大模型应用开发框架。 它从开源社区中的诸多优秀 LLM 应用开发框架，如 LangChain 和 LlamaIndex 等获取灵感，同时借鉴前沿研究成果与实际应用，提供了一个强调简洁性、可扩展性、可靠性与有效性，且更符合 Go 语言编程惯例的 LLM 应用开发框架。</p><p>Eino 提供的价值如下：</p><ul><li>精心整理的一系列 <strong>组件（component）</strong> 抽象与实现，可轻松复用与组合，用于构建 LLM 应用。</li><li>强大的 <strong>编排（orchestration）</strong> 框架，为用户承担繁重的类型检查、流式处理、并发管理、切面注入、选项赋值等工作。</li><li>一套精心设计、注重简洁明了的 <strong>API</strong>。</li><li>以集成 <strong>流程（flow）</strong> 和 <strong>示例（example）</strong> 形式不断扩充的最佳实践集合。</li><li>一套实用 <strong>工具（DevOps tools）</strong>，涵盖从可视化开发与调试到在线追踪与评估的整个开发生命周期。</li></ul><p>Eino 可在 AI 应用开发周期中的不同阶段，规范、简化和提效：</p><ul><li>Development: 开箱即用的 AI 相关组件；常见的 Flow 范式；对并发、异步、流式友好的图编排；完善的流处理能力等。这些均可对 AI 应用的开发提供很大助力。</li><li>Debugging: 可对图编排的应用，进行可视化的开发调试</li><li>Deployment: 提供丰富的对 AI 应用的评测能力</li><li>Maintenance: 提供丰富的切面对 AI 应用进行观测、监控</li></ul><p><a href=/img/eino/eino_project_structure_and_modules.png target=_blank><img src=/img/eino/eino_project_structure_and_modules.png width=100%></a></p><p>完整 API Reference：<a href=https://pkg.go.dev/github.com/cloudwego/eino>https://pkg.go.dev/github.com/cloudwego/eino</a></p><h2 id=快速上手>快速上手</h2><p>直接使用组件：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#000>model</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>_</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>openai</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewChatModel</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>config</span><span style=color:#000;font-weight:700>)</span> <span style=color:#8f5902;font-style:italic>// create an invokable LLM instance</span>
</span></span><span style=display:flex><span><span style=color:#000>message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>_</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>model</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Generate</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>SystemMessage</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;you are a helpful assistant.&#34;</span><span style=color:#000;font-weight:700>),</span>
</span></span><span style=display:flex><span>    <span style=color:#000>UserMessage</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;what does the future AI App look like?&#34;</span><span style=color:#000;font-weight:700>)})</span>
</span></span></code></pre></div><p>当然，你可以这样用，Eino 提供了许多开箱即用的有用组件。但通过使用编排功能，你能实现更多，原因有三：</p><ul><li>编排封装了大语言模型（LLM）应用的常见模式。</li><li>编排解决了处理大语言模型流式响应这一难题。</li><li>编排为你处理类型安全、并发管理、切面注入以及选项赋值等问题。</li></ul><p>Eino 提供了三组用于编排的 API：</p><table><tr><td>API</td><td>特性和使用场景</td></tr><tr><td>Chain</td><td>简单的链式有向图，只能向前推进。</td></tr><tr><td>Graph</td><td>有向有环或无环图。功能强大且灵活。</td></tr><tr><td>Workflow</td><td>有向无环图，支持在结构体字段级别进行数据映射。</td></tr></table><p>我们来创建一个简单的 chain: 一个模版（ChatTemplate）接一个大模型（ChatModel）。</p><p><a href=/img/eino/chain_simple_llm.png target=_blank><img src=/img/eino/chain_simple_llm.png width=100%></a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#000>chain</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>_</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewChain</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>]().</span>
</span></span><span style=display:flex><span>           <span style=color:#000>AppendChatTemplate</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>prompt</span><span style=color:#000;font-weight:700>).</span>
</span></span><span style=display:flex><span>           <span style=color:#000>AppendChatModel</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>model</span><span style=color:#000;font-weight:700>).</span>
</span></span><span style=display:flex><span>           <span style=color:#000>Compile</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>chain</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Invoke</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;what&#39;s your name?&#34;</span><span style=color:#000;font-weight:700>})</span>
</span></span></code></pre></div><p>现在，我们来创建一个 Graph，一个 ChatModel，要么直接输出结果，要么最多调一次 Tool。</p><p><a href=/img/eino/eino_take_first_toolcall_output.png target=_blank><img src=/img/eino/eino_take_first_toolcall_output.png width=100%></a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewGraph</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>]()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>_</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddChatTemplateNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_template&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>chatTpl</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>_</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddChatModelNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_model&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>chatModel</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>_</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddToolsNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_tools&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>toolsNode</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>_</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddLambdaNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_converter&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>takeOne</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>_</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>START</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;node_template&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>_</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_template&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;node_model&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>_</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddBranch</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_model&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>branch</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>_</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_tools&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;node_converter&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>_</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_converter&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>END</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>compiledGraph</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Compile</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>err</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000>out</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>compiledGraph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Invoke</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Beijing&#39;s weather this weekend&#34;</span><span style=color:#000;font-weight:700>})</span>
</span></span></code></pre></div><p>现在，我们来创建一个 Workflow，它能在字段级别灵活映射输入与输出：</p><p><a href=/img/eino/graph_node_type1.png target=_blank><img src=/img/eino/graph_node_type1.png width=100%></a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#000>wf</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewWorkflow</span><span style=color:#000;font-weight:700>[[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>]()</span>
</span></span><span style=display:flex><span><span style=color:#000>wf</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddChatModelNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;model&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>model</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>AddInput</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>NewMapping</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>START</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>wf</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddLambdaNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;l1&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lambda1</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>AddInput</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;model&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>MapFields</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Content&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Input&#34;</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>wf</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddLambdaNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;l2&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lambda2</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>AddInput</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;model&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>MapFields</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Role&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Role&#34;</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>wf</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddLambdaNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;l3&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lambda3</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>AddInput</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;l1&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>MapFields</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Output&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Query&#34;</span><span style=color:#000;font-weight:700>)).</span>
</span></span><span style=display:flex><span>    <span style=color:#000>AddInput</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;l2&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>MapFields</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Output&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;MetaData&#34;</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>wf</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddEnd</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_l3&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>runnable</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>_</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>wf</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Compile</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>runnable</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Invoke</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>UserMessage</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;kick start this workflow!&#34;</span><span style=color:#000;font-weight:700>)})</span>
</span></span></code></pre></div><p>现在，咱们来创建一个 “ReAct” 智能体：一个 ChatModel 绑定了一些 Tool。它接收输入的消息，自主判断是调用 Tool 还是输出最终结果。Tool 的执行结果会再次成为聊天模型的输入消息，并作为下一轮自主判断的上下文。</p><p>我们用几十行代码就能实现这个：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// build a ReAct agent that accepts []*Message as input and outputs *Message as output</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>r</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>build</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>config</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>AgentConfig</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>_</span> <span style=color:#000>Runnable</span><span style=color:#000;font-weight:700>[[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000>err</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic>// the LLM responsible for reasoning and generating output within the ReAct Agent</span>
</span></span><span style=display:flex><span>       <span style=color:#000>chatModel</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>config</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Model</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic>// the actual executor of tools</span>
</span></span><span style=display:flex><span>       <span style=color:#000>toolsNode</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>ToolsNode</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic>// the meta info of tools</span>
</span></span><span style=display:flex><span>       <span style=color:#000>toolInfos</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToolInfo</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic>// the graph consist of the ChatModel and ToolsNode</span>
</span></span><span style=display:flex><span>       <span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Graph</span><span style=color:#000;font-weight:700>[[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic>// read and write contextual messages before ChatModel execution</span>
</span></span><span style=display:flex><span>       <span style=color:#000>modelPreHandle</span> <span style=color:#000>StatePreHandler</span><span style=color:#000;font-weight:700>[[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>state</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>       <span style=color:#8f5902;font-style:italic>// after ChatModel execution, routes to END if output does not contain tool call info, otherwise routes to ToolsNode</span>
</span></span><span style=display:flex><span>       <span style=color:#000>modelPostBranch</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>GraphBranch</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>toolInfos</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>genToolInfos</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>config</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>chatModel</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>BindTools</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>toolInfos</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>toolsNode</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>NewToolNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>config</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToolsConfig</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// creates a graph with state that stores messages across multiple rounds of ReAct loop</span>
</span></span><span style=display:flex><span>    <span style=color:#000>graph</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>NewGraph</span><span style=color:#000;font-weight:700>[[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>](</span>
</span></span><span style=display:flex><span>       <span style=color:#000>WithGenLocalState</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>state</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>state</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>Messages</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87>make</span><span style=color:#000;font-weight:700>([]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>config</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MaxStep</span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)}</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>}))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>modelPreHandle</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>state</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>state</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>state</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Messages</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>state</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Messages</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span><span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       <span style=color:#000>modifiedInput</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#204a87>make</span><span style=color:#000;font-weight:700>([]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87>len</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>state</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Messages</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87>copy</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>modifiedInput</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>state</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Messages</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>config</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MessageModifier</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>modifiedInput</span><span style=color:#000;font-weight:700>),</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#8f5902;font-style:italic>// add system prompt</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>err</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddChatModelNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nodeKeyModel</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>chatModel</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>WithStatePreHandler</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>modelPreHandle</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>START</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>nodeKeyModel</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>// chatModel connects to START because it accepts initial input</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddToolsNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nodeKeyTools</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>toolsNode</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// chatModel&#39;s output can be a stream with multiple chunks of messages</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// we use StreamGraphBranch here to make the routing decision based only on the first chunk </span>
</span></span><span style=display:flex><span>    <span style=color:#000>modelPostBranch</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>NewStreamGraphBranch</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>_</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>sr</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>])</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>endNode</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>defer</span> <span style=color:#000>sr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Close</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>msg</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>sr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Recv</span><span style=color:#000;font-weight:700>();</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>             <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#204a87>len</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>msg</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToolCalls</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>             <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>END</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>nil</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>nodeKeyTools</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>nil</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>},</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>bool</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>nodeKeyTools</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>END</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddBranch</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nodeKeyModel</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>modelPostBranch</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nodeKeyTools</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>nodeKeyModel</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>// toolsNode&#39;s output are fed back to chatModel</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// compile Graph to Runnable：do type check、inject callback aspects、automatic stream boxing and unboxing、generate graph runner, etc.</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Compile</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>WithMaxRunSteps</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>config</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MaxStep</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>Eino 会在上述代码背后自动完成一些重要工作：</p><ul><li><strong>类型检查</strong>：在编译时确保两个节点的输入和输出类型匹配。</li><li><strong>流处理</strong>：如有需要，在将消息流传递给 ChatModel 和 ToolsNode 节点之前进行拼接，以及将该流复制到 callback handler 中。</li><li><strong>并发管理</strong>：由于 StatePreHandler 是线程安全的，共享的 state 可以被安全地读写。</li><li><strong>切面注入</strong>：如果指定的 ChatModel 实现未自行注入，会在 ChatModel 执行之前和之后注入回调切面。</li><li><strong>选项赋值</strong>：调用 Option 可以全局设置，也可以针对特定组件类型或特定节点进行设置。</li></ul><p>例如，你可以轻松地通过回调扩展已编译的图：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#000>handler</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewHandlerBuilder</span><span style=color:#000;font-weight:700>().</span>
</span></span><span style=display:flex><span>  <span style=color:#000>OnStartFn</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>info</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>RunInfo</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span> <span style=color:#000>CallbackInput</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Infof</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;onStart, runInfo: %v, input: %v&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>info</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}).</span>
</span></span><span style=display:flex><span>  <span style=color:#000>OnEndFn</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>info</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>RunInfo</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>output</span> <span style=color:#000>CallbackOutput</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Infof</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;onEnd, runInfo: %v, out: %v&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>info</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>output</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}).</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Build</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#000>compiledGraph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Invoke</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>WithCallbacks</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#000;font-weight:700>))</span>
</span></span></code></pre></div><p>或者你可以轻松地为不同节点分配选项：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// assign to All nodes</span>
</span></span><span style=display:flex><span><span style=color:#000>compiledGraph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Invoke</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>WithCallbacks</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// assign only to ChatModel nodes</span>
</span></span><span style=display:flex><span><span style=color:#000>compiledGraph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Invoke</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>WithChatModelOption</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>WithTemperature</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// assign only to node_1</span>
</span></span><span style=display:flex><span><span style=color:#000>compiledGraph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Invoke</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>WithCallbacks</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>handler</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>DesignateNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_1&#34;</span><span style=color:#000;font-weight:700>))</span>
</span></span></code></pre></div><h2 id=关键特性>关键特性</h2><h3 id=丰富的组件component>丰富的组件(Component)</h3><ul><li>将常见的构建模块抽象为<strong>组件</strong>，每个组件抽象都有多个可开箱即用的<strong>组件实现</strong>。<ul><li>诸如聊天模型（ChatModel）、工具（Tool）、提示模板（PromptTemplate）、检索器（Retriever）、文档加载器（Document Loader）、Lambda 等组件抽象。</li><li>每种组件类型都有其自身的接口：定义了输入和输出类型、定义了选项类型，以及合理的流处理范式。</li><li>实现细节是透明的。在编排组件时，你只需关注抽象层面。</li></ul></li><li>实现可以嵌套，并包含复杂的业务逻辑。<ul><li>ReAct 智能体（React Agent）、多查询检索器（MultiQueryRetriever）、主机多智能体（Host MultiAgent）等。它们由多个组件和复杂的业务逻辑构成。</li><li>从外部看，它们的实现细节依然透明。例如在任何接受 Retriever 的地方，都可以使用 MultiQueryRetriever。</li></ul></li></ul><h3 id=强大的编排-graphchainworkflow>强大的编排 (Graph/Chain/Workflow)</h3><ul><li>数据从 Retriever / Document Loader / ChatTemplate 流向 ChatModel，接着流向 Tool ，并被解析为最终答案。这种通过多个组件的有向、可控的数据流，可以通过<strong>图编排</strong>来实现。</li><li>组件实例是图的<strong>节点（Node）</strong>，而**边（Edge）**则是数据流通道。</li><li>图编排功能强大且足够灵活，能够实现复杂的业务逻辑：<ul><li><strong>类型检查、流处理、并发管理、切面注入和选项分配</strong>都由框架处理。</li><li>在运行时进行<strong>分支（Branch）<strong>执行、读写全局</strong>状态（State）</strong>，或者使用工作流进行字段级别的数据映射。</li></ul></li></ul><h3 id=完善的流处理streaming>完善的流处理(Streaming)</h3><ul><li>流式处理（Stream Processing）很重要，因为 ChatModel 在生成消息时会实时输出消息块。</li><li>对于只接受非流式输入的下游节点（如 ToolsNode），Eino 会自动将流 <strong>拼接（Concatenate）</strong> 起来。</li><li>在 Graph 执行过程中，当需要流时，Eino 会自动将非流式<strong>转换</strong>为流式。</li><li>当多个流汇聚到一个下游节点时，Eino 会自动 <strong>合并（Merge）</strong> 这些流。</li><li>当流分散到不同的下游节点或传递给回调处理器时，Eino 会自动 <strong>复制（Copy）</strong> 这些流。</li><li>最重要的是，当将一个组件添加到图中时，Eino 会自动补充缺失的流处理能力：你可以提供一个仅可 Invoke 的函数，Eino 会创建其他三种范式。</li></ul><table><tr><td>函数名</td><td>模式说明</td><td>交互模式名称</td><td>Lambda 构造方法</td><td>说明</td></tr><tr><td>Invoke</td><td>输入非流式、输出非流式</td><td>Ping-Pong 模式</td><td>compose.InvokableLambda()</td><td></td></tr><tr><td>Stream</td><td>输入非流式、输出流式</td><td>Server-Streaming 模式</td><td>compose.StreamableLambda()</td><td></td></tr><tr><td>Collect</td><td>输入流式、输出非流式</td><td>Client-Streaming</td><td>compose.CollectableLambda()</td><td></td></tr><tr><td>Transform</td><td>输入流式、输出流式</td><td>Bidirectional-Streaming</td><td>compose.TransformableLambda()</td><td></td></tr></table><h3 id=高扩展性的切面callbacks>高扩展性的切面(Callbacks)</h3><ul><li>切面用于处理诸如日志记录、追踪、指标统计等横切面关注点，同时也用于暴露组件实现的内部细节。</li><li>支持五种切面：<strong>OnStart、OnEnd、OnError、OnStartWithStreamInput、OnEndWithStreamOutput</strong>。</li><li>开发者可以轻松创建自定义回调处理程序，在图运行期间通过 Option 添加它们，这些处理程序会在图运行时被调用。</li><li>图还能将切面注入到那些自身不支持回调的组件实现中。</li></ul><h2 id=eino-框架结构>Eino 框架结构</h2><p><a href=/img/eino/eino_structure.png target=_blank><img src=/img/eino/eino_structure.png width=100%></a></p><p>Eino 框架整体由两部分构成：</p><ul><li>Eino：存放 Eino 的组件抽象，Graph、Chain 等编排能力，切面机制等</li><li>EinoExt：Eino 的组件实现、通用切面实现、组件使用示例等，以及 Eino 相关的开发、调试、评测等可视化、管理能力。可放置各种各样的 Eino 扩展能力</li></ul><p>Eino Core 中的六大概念：</p><ul><li>Components 抽象<ul><li>每一种 Component 均有对应的接口抽象及其对应的多种实现。可直接使用、也可被编排<ul><li>编排时，对应节点的输入输出与接口抽象保持一致</li></ul></li><li>类似于 ChatModel、PromptTemplate、Retriever、Indexer 等开箱即用的原子组件</li><li>Eino 中 Component 概念较为宽松，任意满足如下职责中的一个，即可被称为 Component<ul><li>可加入 Graph Node，作为编排对象被编排</li><li>作为其他编排对象的依赖注入组件</li></ul></li></ul></li><li>Flow 集成组件<ul><li>基于框架中的 Component、Graph ，针对常见的应用场景，提供开箱即用的预先编排好的集成组件能力。</li><li>可能提供再次被编排的能力</li><li>例如：Agent、MapReduce 长文本总结、MultiAgent 等</li></ul></li><li>Runnable &ndash; 用户弱感知<ul><li>编排框架中的编排对象和编排产物。</li><li>所有的 Component 在被编排时，均需转换成 Runnable 对象，一般用户不可见此过程。</li><li>一张图编译成可执行对象时，本质是一个 Runnable 对象</li></ul></li><li>Compose 编排<ul><li>将各种 Component 实例，作为 Node 节点，以图的点线关系连接起来，数据流按照有向边的方向进行传输，并在不同节点中执行。</li><li>支持 Graph、Chain、Workflow 等多种编排形式，本质均是通过有向图表达数据流的传递和节点的执行顺序</li></ul></li><li>切面能力<ul><li>Graph 中每个节点执行前后提供的切面能力。</li><li>例如：Trace、埋点、日志等</li></ul></li><li>Stream<ul><li>添加到 Node 中的组件实例，其输入、输出既有可能是 流、也有可能是 非流。 Compose 编排可以将这些不同形式的输入输出进行衔接，传递数据流并执行节点。 这个能力可称为流式编排能力</li><li>例如，ChatModel 的输出、ASR 的输入输出 都是流式的</li></ul></li></ul><h3 id=component>Component</h3><p>具体每种 Component 的职责，可具体看对应的接口定义</p><blockquote><p>下文是示例性说明，不完整，以<a href=https://github.com/cloudwego/eino-ext/tree/main/components>代码仓库</a>为准</p></blockquote><pre tabindex=0><code>eino/components // 组件根目录
├── document
│   ├── interface.go 
│   └── option.go
├── embedding
│   ├── callback_extra.go
│   ├── interface.go // 一个组件的抽象
│   ├── ark          // 与抽象同级的一个文件夹代表一种具体实现
│   ├── openai
│   └── option.go
├── indexer
│   ├── callback_extra.go
│   ├── interface.go
│   ├── option.go
│   └── volc_vikingdb
├── model
│   ├── callback_extra.go
│   ├── interface.go
│   ├── ark
│   ├── openai
│   └── option.go
├── prompt
│   ├── callback_extra.go
│   ├── chat_template.go
│   ├── chat_template_test.go
│   └── interface.go
├── retriever
│   ├── callback_extra.go
│   ├── interface.go
│   ├── option.go
│   └── volc_vikingdb
├── tool
│   ├── duckduckgo
│   ├── interface.go
│   └── option.go
├── types.go
</code></pre><h3 id=runnable>Runnable</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>Runnable</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>I</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>O</span> <span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>]</span> <span style=color:#204a87;font-weight:700>interface</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Invoke</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span> <span style=color:#000>I</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>Option</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>output</span> <span style=color:#000>O</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Stream</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span> <span style=color:#000>I</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>Option</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>output</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>O</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000>err</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Collect</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>I</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>Option</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>output</span> <span style=color:#000>O</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Transform</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>I</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>Option</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>output</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>O</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000>err</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><ul><li>Runnable 抽象根据输入、输出是否为流式，划分成 4 个 Lamba 算子</li><li>Compose 编排中，添加到 Node 中的组件实例，会被统一转换成上述的 Runnable 抽象</li><li>当一个 Component 转换为 Runnable 时，根据其提供的任意 Lambda 算子，结合着 流化(Streaming)、合并(Concat) 能力，补全剩余的未提供的 Lambda 算子<ul><li>流与非流间的转换： (用 StreamReader[T] 和 T 分别指代 流 和 非流)<ul><li>合并(Concat)<ul><li>将 StreamReader[T] 中的 T-Frame 接收完整，并合并成一个完整的 T</li></ul></li><li>流化(Streaming)<ul><li>将 T 转换成仅有一个 T-Frame 的 StreamReader[T]，进行流式传输</li></ul></li></ul></li></ul></li><li>基于上述两种转换关系，Eino 便可根据用户提供的具有任意 N(N&lt;=4) 种交互模式的接口，封装转换成一个完整的 Runnable[I, O]</li></ul><table><tr><td>源\目标</td><td>Invoke[I, O any]()</td><td>Stream[I, O any]()</td><td>Collect[I, O any]()</td><td>Transform[I, O any]()</td></tr><tr><td>Invoke[I, O any]()</td><td>-</td><td><li>Invoke输入直接透传</li><li>Invoke响应转成单帧流</li></td><td><li>Invoke输入转成单帧流</li><li>Invoke响应直接透传</li></td><td><li>Invoke输入转成单帧流</li><li>Invoke响应转成单帧流</li></td></tr><tr><td>Stream[I, O any]()</td><td><li>Stream输入直接透传</li><li>Stream输出Concat后透传</li></td><td>-</td><td><li>Stream输入转成单帧流</li><li>Stream输出Concat后透传</li></td><td><li>Stream输入转成单帧流</li><li>Stream输出直接透传</li></td></tr><tr><td>Collect[I, O any]()</td><td><li>Collect输入Concat后透传</li><li>Collect输出直接透传</li></td><td><li>Collect输入Concat后透传</li><li>Collect输出转成单帧流</li></td><td>-</td><td><li>Collect输入直接透传</li><li>Collect输出转成单帧流</li></td></tr><tr><td>Transform[I, O any]()</td><td><li>Transform输入Concat后透传</li><li>Transform输出Concat后透传</li></td><td><li>Transform输入Concat后透传</li><li>Transform输出直接透传</li></td><td><li>Transform输入直接透传</li><li>Transform输出Concat后透传</li></td><td>-</td></tr></table><ul><li>编程产物中具有的真正的流式能力是什么，取决于如下的编排范式</li></ul><p><a href=/img/eino/invoke_stream_transform_collect.png target=_blank><img src=/img/eino/invoke_stream_transform_collect.png width=100%></a></p><h3 id=stream-流>Stream 流</h3><p>Notice：Stream 流在 <strong>生产</strong>、<strong>消费</strong>、<strong>复制</strong>、<strong>合并</strong>、<strong>转换</strong>等场景下，处理逻辑均较为复杂。 实现时稍有考虑不周的地方，便可能导致 生产/消费者互相等待而夯死、Goroutine 泄露或溢出、内存泄露或溢出、CPU 负载高 等问题。 为了减少稳定性问题的产生，Eino 强要求使用 Eino 提供的 Stream 流，因此将 Stream 实现成了 Struct、而非定义成接口。</p><p>复杂的流操作的场景：</p><ul><li>流式接口和非流式接口直接的转换<ul><li>流转成非流时，需要将流中的所有数据帧，Concat 成一个完整的数据结构</li><li>非流转成流时，需要将一个数据结构转换成仅有一个数据帧的流</li></ul></li><li>同一个数据流可能需要被多次读取和消费，比如多个切面。 因一个流仅能被完成读取一次，所以需要根据消费次数，将流进行 Copy<ul><li>流 Copy 时，需要考虑多个流的 消费协同、Close 协同。 任意一个流没有正常 Close，均可能导致资源无法正常释放</li></ul></li><li>多个流合并成一个流</li></ul><p>为了 Stream 的 API 接口更加清晰和易用，遂与 Golang 内置的 io.Pipe() 方法的定义对齐。</p><ul><li>API 接口定义为：<code>schema.Pipe[T any](cap int) (*StreamReader[T], *StreamWriter[T])</code><ul><li>其中 cap 表示 Stream 的缓存有多大，即在无任何消费的情况下，Sender 可以无阻塞地发送 Chunk 的数量</li><li><code>StreamWriter</code> 类似于 io.Pipe 中的 PipeWriter</li><li><code>StreamReader</code> 类似于 io.Pipe 中的 PipeReader，只是多了一个 <code>Copy(n int) []*StreamReader[T]</code> 方法</li></ul></li><li><strong>WARN</strong>：在任何地方见到 <code>*StreamReader[T]</code> 或 <code>*StreamWriter[T]</code> 都不要忘记 Close()，否则可能导致流无法正常释放。一般流的生产和消费都是单独 Goroutine，从而导致 Goroutine 的泄露。</li></ul><p>Stream 流 的 API 设计，源码链接：<a href=https://github.com/cloudwego/eino/blob/main/schema/stream.go>eino/schema/stream.go</a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Pipe creates a new stream with the given capacity that represented with StreamWriter and StreamReader.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// The capacity is the maximum number of items that can be buffered in the stream.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// e.g.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  sr, sw := schema.Pipe[string](3)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  go func() { // send data</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//     defer sw.Close()</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//     for i := 0; i &lt; 10; i++ {</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//        sw.send(i, nil)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//     }</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  }</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  defer sr.Close()</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  for chunk, err := sr.Recv() {</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//     if errors.Is(err, io.EOF) {</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//        break</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//     }</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//     fmt.Println(chunk)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  }</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>Pipe</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span> <span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>](</span><span style=color:#000>cap</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>],</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>StreamWriter</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>])</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>stm</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>newStream</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>](</span><span style=color:#000>cap</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>stm</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>asReader</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>StreamWriter</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>]{</span><span style=color:#000>stm</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>stm</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// StreamWriter the sender of a stream.</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>StreamWriter</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span> <span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>]</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>stm</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>stream</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>sw</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>StreamWriter</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>])</span> <span style=color:#000>Send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>chunk</span> <span style=color:#000>T</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>closed</span> <span style=color:#204a87;font-weight:700>bool</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>sw</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>stm</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>chunk</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Close notify the receiver that the stream sender has finished.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// The stream receiver will get an error of io.EOF from StreamReader.Recv().</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>sw</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>StreamWriter</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>])</span> <span style=color:#000>Close</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>sw</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>stm</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>closeSend</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// StreamReader the receiver of a stream.</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span> <span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>]</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>sr</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>])</span> <span style=color:#000>Recv</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Close notify the sender that the stream receiver has finished.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// AKA: CloseRecv.</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>sr</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>])</span> <span style=color:#000>Close</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Copy creates a slice of new StreamReader.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// The number of copies, indicated by the parameter n, should be a non-zero positive integer.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// The original StreamReader will become unusable after Copy.</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>sr</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>])</span> <span style=color:#000>Copy</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>StreamReader</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>T</span><span style=color:#000;font-weight:700>]</span> <span style=color:#000;font-weight:700>{}</span>
</span></span></code></pre></div><h3 id=compose-编排>Compose 编排</h3><h4 id=graph>Graph</h4><h5 id=点node>点(Node)</h5><ul><li>把一个 Component 实例加入到 Graph 中，便形成一个 Node 节点</li><li>Component 即可被独立使用，又可被 Graph 编排</li><li>Add{Component}Node() 接口列举。 此处仅列举几个接口，更详细接口列表可查看最新的 Eino SDK<ul><li>对于通用的组件类型，均会抽象出一个标准行为语义，并给出不同的实现</li><li>业务可通过使用 AddLambdaNode，添加任意定制函数作为节点</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// AddChatModelNode add node that implements model.ChatModel.</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>AddChatModelNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span> <span style=color:#000>model</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ChatModel</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>GraphAddNodeOpt</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>error</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>g</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>toChatModelNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span><span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// AddChatTemplateNode add node that implements prompt.ChatTemplate.</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>AddChatTemplateNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span> <span style=color:#000>prompt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ChatTemplate</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>GraphAddNodeOpt</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>error</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>g</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>toChatTemplateNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span><span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>AddToolsNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>ToolsNode</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>GraphAddNodeOpt</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>error</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>g</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>toToolsNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span><span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// AddLambdaNode add node that implements at least one of Invoke[I, O], Stream[I, O], Collect[I, O], Transform[I, O].</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// due to the lack of supporting method generics, we need to use function generics to generate Lambda run as Runnable[I, O].</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// for Invoke[I, O], use compose.InvokableLambda()</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// for Stream[I, O], use compose.StreamableLambda()</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// for Collect[I, O], use compose.CollectableLambda()</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// for Transform[I, O], use compose.TransformableLambda()</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// for arbitrary combinations of 4 kinds of lambda, use compose.AnyLambda()</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>AddLambdaNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Lambda</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>GraphAddNodeOpt</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>error</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>g</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>toLambdaNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span><span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// AddGraphNode add one kind of Graph[I, O]、Chain[I, O] as a node.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// for Graph[I, O], comes from NewGraph[I, O]()</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// for Chain[I, O], comes from NewChain[I, O]()</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>AddGraphNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span> <span style=color:#000>AnyGraph</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>GraphAddNodeOpt</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>error</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>g</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>toAnyGraphNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span><span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>AddRetrieverNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span> <span style=color:#000>retriever</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Retriever</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>GraphAddNodeOpt</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>error</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>g</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>toRetrieverNode</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span><span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h5 id=线edge>线(Edge)</h5><p>Eino 提供了多种添加线的方式</p><h6 id=addedge>Add<strong>Edge</strong></h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// AddEdge adds an edge to the graph, edge means a data flow from startNode to endNode.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// the previous node&#39;s output type must be set to the next node&#39;s input type.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// NOTE: startNode and endNode must have been added to the graph before adding edge.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// e.g.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  graph.AddNode(&#34;start_node_key&#34;, compose.NewPassthroughNode())</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  graph.AddNode(&#34;end_node_key&#34;, compose.NewPassthroughNode())</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  err := graph.AddEdge(&#34;start_node_key&#34;, &#34;end_node_key&#34;)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>AddEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>startNode</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>endNode</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{}</span>
</span></span></code></pre></div><ul><li>在两个节点间添加一条有向的数据传输链路，以控制数据的流动方向和节点的执行顺序</li></ul><p><a href=/img/eino/edge_of_parallel.png target=_blank><img src=/img/eino/edge_of_parallel.png width=100%></a></p><h6 id=addbranch><strong>AddBranch</strong></h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// AddBranch adds a branch to the graph.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// e.g.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  condition := func(ctx context.Context, in string) (string, error) {</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//     return &#34;next_node_key&#34;, nil</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  }</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  endNodes := map[string]bool{&#34;path01&#34;: true, &#34;path02&#34;: true}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  branch := compose.NewGraphBranch(condition, endNodes)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//  graph.AddBranch(&#34;start_node_key&#34;, branch)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>AddBranch</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>startNode</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>branch</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>GraphBranch</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{}</span>
</span></span></code></pre></div><ul><li>根据传入的自定义选择函数，运行时根据经运算条件从多个 Node 中选出命中 Node 执行</li></ul><p><a href=/img/eino/run_way_branch_in_graph.png target=_blank><img src=/img/eino/run_way_branch_in_graph.png width=100%></a></p><h6 id=parallel><strong>Parallel</strong></h6><ul><li>将多个 Node 平行并联， 形成多个节点并发执行的节点</li><li>无 AddParallel 方法，通过 AddEdge 构建并联的多条拓扑路径，以此形成 **Parallel **</li></ul><p><a href=/img/eino/input_keys_output_keys_in_parallel.png target=_blank><img src=/img/eino/input_keys_output_keys_in_parallel.png width=100%></a></p><h5 id=面graph>面(Graph)</h5><ul><li>通过 NewGraph 创建 graph 实例，并通过 graph.AddXXXNode、graph.AddEdge、graph.AddBranch 绘制点和线，最终形成一张可编译执行的图</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 无状态的 Graph 编排</span>
</span></span><span style=display:flex><span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewGraph</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>]()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>testState</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ms</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>genFn</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>testState</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>testState</span><span style=color:#000;font-weight:700>{}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 有状态的 Graph 编排</span>
</span></span><span style=display:flex><span><span style=color:#000>sg</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewGraph</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>](</span><span style=color:#000>WithGenLocalState</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>genFn</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 基于 Graph 编排简化 的 Chain</span>
</span></span><span style=display:flex><span><span style=color:#000>chain</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewChain</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]()</span>
</span></span></code></pre></div><h4 id=chain>Chain</h4><blockquote><p>Chain - 简化的 Graph，将不同类型的 Node 按照先后顺序，进行连接，形成从头到尾的数据流传递和顺序执行。</p></blockquote><h5 id=appendxxx><strong>AppendXXX</strong></h5><blockquote><p>XXX 可是 ChatMode、Prompt、Indexer、Retriever、Graph 等多种组件类型</p><p>Chain 是简化的 Graph，因此可通过 AppendGraph 实现 Chain 和 Graph 的相互嵌套</p></blockquote><ul><li>将多个 Node 按照传入顺序首尾串联，串联的 Node 依次进行数据传递和执行</li></ul><p><a href=/img/eino/graph_nodes.png target=_blank><img src=/img/eino/graph_nodes.png width=100%></a></p><h5 id=appendparallel><strong>AppendParallel</strong></h5><blockquote><p>添加一个节点，这个节点具有多个并发执行的多个子节点</p></blockquote><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Parallel run multiple nodes in parallel</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>//</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// use `NewParallel()` to create a new parallel type</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// Example:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>parallel</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewParallel</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>parallel</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddChatModel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;output_key01&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>chat01</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>parallel</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddChatModel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;output_key01&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>chat02</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>chain</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewChain</span><span style=color:#000;font-weight:700>[[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>]()</span>
</span></span><span style=display:flex><span><span style=color:#000>chain</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AppendParallel</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>parallel</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><ul><li>创建一个 Parallel，容纳并发执行的多个子节点</li></ul><p><a href=/img/eino/chain_append_parallel.png target=_blank><img src=/img/eino/chain_append_parallel.png width=100%></a></p><h5 id=appendbranch><strong>AppendBranch</strong></h5><blockquote><p>添加一个节点，这个节点通过 condition 计算方法，从多个子节点中，选择一个执行</p></blockquote><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// NewChainBranch creates a new ChainBranch instance based on a given condition.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// It takes a generic type T and a GraphBranchCondition function for that type.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// The returned ChainBranch will have an empty key2BranchNode map and a condition function</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// that wraps the provided cond to handle type assertions and error checking.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// eg.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>condition</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>in</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>endNode</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// logic to determine the next node</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#204a87>len</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>in</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;node_1&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>nil</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;node_2&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>nil</span> 
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>cb</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewChainBranch</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>](</span><span style=color:#000>condition</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>cb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddLambda</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_1&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lambda1</span><span style=color:#000;font-weight:700>)</span> <span style=color:#8f5902;font-style:italic>// node in branch, represent one path of branch</span>
</span></span><span style=display:flex><span><span style=color:#000>cb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AddLambda</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;node_2&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lambda2</span><span style=color:#000;font-weight:700>)</span> <span style=color:#8f5902;font-style:italic>// node in branch</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>chain</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewChain</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]()</span>
</span></span><span style=display:flex><span><span style=color:#000>chain</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AppendBranch</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cb</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><p><a href=/img/eino/chain_append_branch.png target=_blank><img src=/img/eino/chain_append_branch.png width=100%></a></p><h4 id=workflow>Workflow</h4><p>允许字段级别做上下游数据映射的有向无环图。</p><h3 id=切面callbacks>切面(Callbacks)</h3><p>Component（包括 Lambda）、Graph 编排共同解决“把业务逻辑定义出来”的问题。而 logging, tracing, metrics, 上屏展示等横切面性质的功能，需要有机制把功能注入到 Component（包括 Lambda）、Graph 中。</p><p>另一方面，用户可能想拿到某个具体 Component 实现的执行过程中的中间信息，比如 VikingDBRetriever 额外给出查询的 DB Name，ArkChatModel 额外给出请求的 temperature 等参数。需要有机制把中间状态透出。</p><p>Callbacks 支持“<strong>横切面功能注入</strong>”和“<strong>中间状态透出</strong>”，具体是：用户提供、注册“function”（Callback Handler），Component 和 Graph 在固定的“时机”（或者说切面、位点）回调这些 function，给出对应的信息。</p><p>Eino 中的 Component 和 Graph 等<strong>实体</strong>，在固定的<strong>时机</strong> (Callback Timing)，回调用户提供的 <strong>function</strong> (Callback Handler)，并把<strong>自己是谁</strong> (RunInfo)，以及<strong>当时发生了什么</strong> (Callback Input & Output) 传出去。</p><p>详见：<a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/callback_manual>Eino: Callback 用户手册</a></p><div class=section-index><hr class=panel-line><div class=entry><h5><a href=/zh/docs/eino/overview/bytedance_eino_practice/>字节跳动大模型应用 Go 开发框架 —— Eino 实践</a></h5><p></p></div><div class=entry><h5><a href=/zh/docs/eino/overview/eino_open_source/>大语言模型应用开发框架 —— Eino 正式开源！</a></h5><p></p></div></div><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>反馈</h2><p class=feedback--question>当前页面对你有帮助吗？</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">是</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">否</button><p class="feedback--response feedback--response-yes"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>请告诉我们如何改进</a>.</p><p class="feedback--response feedback--response-no"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>请告诉我们如何改进</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof ga!="function")return;const t={command:"send",hitType:"event",category:"Helpful",action:"click",label:window.location.pathname,value:e};ga(t.command,t.hitType,t.category,t.action,t.label,t.value)};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(1)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">最后修改
March 7, 2025
: <a href=https://github.com/cloudwego/cloudwego.github.io/commit/590388601ba4c26232b5ba3dcdef1bb571867ba4>doc: update plugin install guide (#1272) (5903886)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Lark aria-label=Lark><a class=text-white target=_blank rel=noopener href="https://applink.feishu.cn/client/chat/chatter/add_by_link?link_token=693v2544-2664-4421-b50f-7f1912p745r6" aria-label=Lark><img src=/webfonts/lark.svg alt style=width:26px;line-height:32.5px;margin-bottom:6px;fill:#fff></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/CloudWeGo aria-label=Twitter><img src=/webfonts/x-twitter.svg alt style=width:26px;line-height:32.5px;margin-bottom:6px;fill:#fff></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/cloudwego aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discord aria-label=Discord><a class=text-white target=_blank rel=noopener href=https://discord.gg/jceZSE7DsW aria-label=Discord><i class="fab fa-discord"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2025 The CloudWeGo Authors</small><p class="mt-2 text-white"><a class=cloudwego-link href=/about/ target=_blank rel=noopener>About</a>
|
<a class=cloudwego-link href=https://github.com/cloudwego/cloudwego.github.io/blob/main/LICENSE target=_blank rel=noopener>License</a></p></div></div></div></footer></div><script src=/js/popper.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/main.min.9a8648b987db06195f5768f0d7516e8df7c27669e91e383e25c5d07cd6325605.js integrity="sha256-moZIuYfbBhlfV2jw11FujffCdmnpHjg+JcXQfNYyVgU=" crossorigin=anonymous></script><script src=/js/prism.js></script><script src=/js/prism-custom.js></script><script src=/js/tabpane-persist.js></script><script src=/js/docsearch.js></script><script type=text/javascript>let siteLang=window.location.pathname.startsWith("/zh/")?"zh":"en";docsearch({appId:"V7I042F992",apiKey:"8380a7ac88106841cb43fb000fa2edb4",indexName:"cloudwego",container:"#docsearch",searchParameters:{hitsPerPage:5,facetFilters:[`lang:${siteLang}`]},transformItems(e){return e.map(e=>({...e,url:e.url.replace("www.cloudwego.io",location.host).replace("https:",location.protocol)}))}})</script><script src=/js/outbound-link.js></script><script src=/js/navScroll.js></script></body></html>