<!doctype html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.142.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Eino ADK: Agent 协作 | CloudWeGo</title>
<meta name=description content="A leading practice for building enterprise cloud native middleware!"><meta property="og:url" content="https://www.cloudwego.io/zh/docs/eino/core_modules/eino_adk/agent_collaboration/"><meta property="og:site_name" content="CloudWeGo"><meta property="og:title" content="Eino ADK: Agent 协作"><meta property="og:description" content="概述回顾 概述文档已经对 Agent 协作提供了基础的说明，下面将结合代码，对协作与组合原语的设计与实现进行介绍：
协作原语
Agent 间协作方式 协助方式描述 Transfer直接将任务转让给另外一个 Agent，本 Agent 则执行结束后退出，不关心转让 Agent 的任务执行状态 ToolCall(AgentAsTool)将 Agent 当成 ToolCall 调用，等待 Agent 的响应，并可获取被调用Agent 的输出结果，进行下一轮处理 AgentInput 的上下文策略 上下文策略描述 上游 Agent 全对话获取本 Agent 的上游 Agent 的完整对话记录 全新任务描述忽略掉上游 Agent 的完整对话记录，给出一个全新的任务总结，作为子 Agent 的 AgentInput 输入 决策自主性 决策自主性描述 自主决策在 Agent 内部，基于其可选的下游 Agent， 如需协助时，自主选择下游 Agent 进行协助。 一般来说，Agent 内部是基于 LLM 进行决策，不过即使是基于预设逻辑进行选择，从 Agent 外部看依然视为自主决策 预设决策事先预设好一个Agent 执行任务后的下一个 Agent。 Agent 的执行顺序是事先确定、可预测的 组合原语"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-09-30T00:00:00+00:00"><meta property="article:modified_time" content="2025-10-01T17:32:33+08:00"><meta itemprop=name content="Eino ADK: Agent 协作"><meta itemprop=description content="概述回顾 概述文档已经对 Agent 协作提供了基础的说明，下面将结合代码，对协作与组合原语的设计与实现进行介绍：
协作原语
Agent 间协作方式 协助方式描述 Transfer直接将任务转让给另外一个 Agent，本 Agent 则执行结束后退出，不关心转让 Agent 的任务执行状态 ToolCall(AgentAsTool)将 Agent 当成 ToolCall 调用，等待 Agent 的响应，并可获取被调用Agent 的输出结果，进行下一轮处理 AgentInput 的上下文策略 上下文策略描述 上游 Agent 全对话获取本 Agent 的上游 Agent 的完整对话记录 全新任务描述忽略掉上游 Agent 的完整对话记录，给出一个全新的任务总结，作为子 Agent 的 AgentInput 输入 决策自主性 决策自主性描述 自主决策在 Agent 内部，基于其可选的下游 Agent， 如需协助时，自主选择下游 Agent 进行协助。 一般来说，Agent 内部是基于 LLM 进行决策，不过即使是基于预设逻辑进行选择，从 Agent 外部看依然视为自主决策 预设决策事先预设好一个Agent 执行任务后的下一个 Agent。 Agent 的执行顺序是事先确定、可预测的 组合原语"><meta itemprop=datePublished content="2025-09-30T00:00:00+00:00"><meta itemprop=dateModified content="2025-10-01T17:32:33+08:00"><meta itemprop=wordCount content="1366"><meta name=twitter:card content="summary"><meta name=twitter:title content="Eino ADK: Agent 协作"><meta name=twitter:description content="概述回顾 概述文档已经对 Agent 协作提供了基础的说明，下面将结合代码，对协作与组合原语的设计与实现进行介绍：
协作原语
Agent 间协作方式 协助方式描述 Transfer直接将任务转让给另外一个 Agent，本 Agent 则执行结束后退出，不关心转让 Agent 的任务执行状态 ToolCall(AgentAsTool)将 Agent 当成 ToolCall 调用，等待 Agent 的响应，并可获取被调用Agent 的输出结果，进行下一轮处理 AgentInput 的上下文策略 上下文策略描述 上游 Agent 全对话获取本 Agent 的上游 Agent 的完整对话记录 全新任务描述忽略掉上游 Agent 的完整对话记录，给出一个全新的任务总结，作为子 Agent 的 AgentInput 输入 决策自主性 决策自主性描述 自主决策在 Agent 内部，基于其可选的下游 Agent， 如需协助时，自主选择下游 Agent 进行协助。 一般来说，Agent 内部是基于 LLM 进行决策，不过即使是基于预设逻辑进行选择，从 Agent 外部看依然视为自主决策 预设决策事先预设好一个Agent 执行任务后的下一个 Agent。 Agent 的执行顺序是事先确定、可预测的 组合原语"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYWRQRLPRM"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QYWRQRLPRM")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?f1808c42af827f368aa7eca3baae6d55",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=preload href=/scss/main.min.8dda0a7e68c787c1e8d950ad927bf6783703a0048d569c37d9e7d2726622eaff.css as=style><link href=/scss/main.min.8dda0a7e68c787c1e8d950ad927bf6783703a0048d569c37d9e7d2726622eaff.css rel=stylesheet integrity><script src=/js/jquery.min.js></script><link rel=stylesheet href=/css/prism.css><link rel=stylesheet href=/css/docsearch.css></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand-xl navbar-dark td-navbar"><a class=navbar-brand href=/zh/><span class=navbar-logo><img src=/img/logo.png></span>
</a><button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0 ml-auto"><li class="dropdown sub-menu active"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>文档</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/kitex/>Kitex</a>
<a class=dropdown-item href=/zh/docs/hertz/>Hertz</a>
<a class=dropdown-item href=/zh/docs/volo/>Volo</a>
<a class=dropdown-item href=/zh/docs/netpoll/>Netpoll</a>
<a class=dropdown-item href=/zh/docs/eino/>Eino</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/about/><span>关于</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/blog/><span>博客</span></a></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>社区</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/community/overview/>概述</a>
<a class=dropdown-item href=/zh/community/meeting_notes/>会议记录</a>
<a class=dropdown-item href=/zh/community/weekly_report/>周报</a>
<a class=dropdown-item href=/zh/community/past_activities/>往期活动</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/zh/cooperation/><span>用户案例</span></a></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>[new]企业级解决方案</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=https://www.volcengine.com/docs/6431/1469323>可观测解决方案</a></div></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>安全</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/security/safety-bulletin/>安全公告</a>
<a class=dropdown-item href=/zh/security/vulnerability-reporting/>漏洞管理</a></div></li><li class="nav-item dropdown mr-4"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><div id=docsearch></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div id=docsearch></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/>English</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhdocs-li><a href=/zh/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-zhdocs><span>文档</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhdocseino-li><input type=checkbox id=m-zhdocseino-check checked>
<label for=m-zhdocseino-check><a href=/zh/docs/eino/ title="Eino 用户手册" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseino><span>Eino</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinooverview-li><input type=checkbox id=m-zhdocseinooverview-check checked>
<label for=m-zhdocseinooverview-check><a href=/zh/docs/eino/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinooverview><span>Eino: 概述</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoovervieweino_open_source-li><input type=checkbox id=m-zhdocseinoovervieweino_open_source-check>
<label for=m-zhdocseinoovervieweino_open_source-check><a href=/zh/docs/eino/overview/eino_open_source/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoovervieweino_open_source><span>大语言模型应用开发框架 —— Eino 正式开源！</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinooverviewbytedance_eino_practice-li><input type=checkbox id=m-zhdocseinooverviewbytedance_eino_practice-check>
<label for=m-zhdocseinooverviewbytedance_eino_practice-check><a href=/zh/docs/eino/overview/bytedance_eino_practice/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinooverviewbytedance_eino_practice><span>字节跳动大模型应用 Go 开发框架 —— Eino 实践</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoquick_start-li><input type=checkbox id=m-zhdocseinoquick_start-check checked>
<label for=m-zhdocseinoquick_start-check><a href=/zh/docs/eino/quick_start/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoquick_start><span>Eino: 快速开始</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoquick_startsimple_llm_application-li><input type=checkbox id=m-zhdocseinoquick_startsimple_llm_application-check>
<label for=m-zhdocseinoquick_startsimple_llm_application-check><a href=/zh/docs/eino/quick_start/simple_llm_application/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoquick_startsimple_llm_application><span>实现一个最简 LLM 应用</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoquick_startagent_llm_with_tools-li><input type=checkbox id=m-zhdocseinoquick_startagent_llm_with_tools-check>
<label for=m-zhdocseinoquick_startagent_llm_with_tools-check><a href=/zh/docs/eino/quick_start/agent_llm_with_tools/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoquick_startagent_llm_with_tools><span>Agent-让大模型拥有双手</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhdocseinocore_modules-li><input type=checkbox id=m-zhdocseinocore_modules-check checked>
<label for=m-zhdocseinocore_modules-check><a href=/zh/docs/eino/core_modules/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modules><span>Eino: 核心模块</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_modulescomponents-li><input type=checkbox id=m-zhdocseinocore_modulescomponents-check>
<label for=m-zhdocseinocore_modulescomponents-check><a href=/zh/docs/eino/core_modules/components/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modulescomponents><span>Eino: Components 组件</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_modulescomponentsdocument_loader_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsdocument_loader_guide-check>
<label for=m-zhdocseinocore_modulescomponentsdocument_loader_guide-check><a href=/zh/docs/eino/core_modules/components/document_loader_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modulescomponentsdocument_loader_guide><span>Eino: Document Loader 使用说明</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentsdocument_loader_guidedocument_parser_interface_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsdocument_loader_guidedocument_parser_interface_guide-check>
<label for=m-zhdocseinocore_modulescomponentsdocument_loader_guidedocument_parser_interface_guide-check><a href=/zh/docs/eino/core_modules/components/document_loader_guide/document_parser_interface_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentsdocument_loader_guidedocument_parser_interface_guide><span>Eino: Document Parser 接口使用说明</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentsembedding_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsembedding_guide-check>
<label for=m-zhdocseinocore_modulescomponentsembedding_guide-check><a href=/zh/docs/eino/core_modules/components/embedding_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentsembedding_guide><span>Eino: Embedding 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentsdocument_transformer_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsdocument_transformer_guide-check>
<label for=m-zhdocseinocore_modulescomponentsdocument_transformer_guide-check><a href=/zh/docs/eino/core_modules/components/document_transformer_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentsdocument_transformer_guide><span>Eino: Document Transformer 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentslambda_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentslambda_guide-check>
<label for=m-zhdocseinocore_modulescomponentslambda_guide-check><a href=/zh/docs/eino/core_modules/components/lambda_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentslambda_guide><span>Eino: Lambda 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentsindexer_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsindexer_guide-check>
<label for=m-zhdocseinocore_modulescomponentsindexer_guide-check><a href=/zh/docs/eino/core_modules/components/indexer_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentsindexer_guide><span>Eino: Indexer 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentschat_model_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentschat_model_guide-check>
<label for=m-zhdocseinocore_modulescomponentschat_model_guide-check><a href=/zh/docs/eino/core_modules/components/chat_model_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentschat_model_guide><span>Eino: ChatModel 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentschat_template_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentschat_template_guide-check>
<label for=m-zhdocseinocore_modulescomponentschat_template_guide-check><a href=/zh/docs/eino/core_modules/components/chat_template_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentschat_template_guide><span>Eino: ChatTemplate 使用说明</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_modulescomponentstools_node_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentstools_node_guide-check>
<label for=m-zhdocseinocore_modulescomponentstools_node_guide-check><a href=/zh/docs/eino/core_modules/components/tools_node_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modulescomponentstools_node_guide><span>Eino: ToolsNode&amp;Tool 使用说明</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentstools_node_guidehow_to_create_a_tool-li><input type=checkbox id=m-zhdocseinocore_modulescomponentstools_node_guidehow_to_create_a_tool-check>
<label for=m-zhdocseinocore_modulescomponentstools_node_guidehow_to_create_a_tool-check><a href=/zh/docs/eino/core_modules/components/tools_node_guide/how_to_create_a_tool/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentstools_node_guidehow_to_create_a_tool><span>如何创建一个 tool ?</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulescomponentsretriever_guide-li><input type=checkbox id=m-zhdocseinocore_modulescomponentsretriever_guide-check>
<label for=m-zhdocseinocore_modulescomponentsretriever_guide-check><a href=/zh/docs/eino/core_modules/components/retriever_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulescomponentsretriever_guide><span>Eino: Retriever 使用说明</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestration-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestration-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestration-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_moduleschain_and_graph_orchestration><span>Eino: Chain & Graph & Workflow 编排功能</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationchain_graph_introduction-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationchain_graph_introduction-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationchain_graph_introduction-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/chain_graph_introduction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationchain_graph_introduction><span>Eino: Chain/Graph 编排介绍</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationorchestration_design_principles-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationorchestration_design_principles-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationorchestration_design_principles-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/orchestration_design_principles/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationorchestration_design_principles><span>Eino: 编排的设计理念</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationstream_programming_essentials-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationstream_programming_essentials-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationstream_programming_essentials-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/stream_programming_essentials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationstream_programming_essentials><span>Eino 流式编程要点</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcallback_manual-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcallback_manual-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationcallback_manual-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/callback_manual/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcallback_manual><span>Eino: Callback 用户手册</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcall_option_capabilities-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcall_option_capabilities-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationcall_option_capabilities-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/call_option_capabilities/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationcall_option_capabilities><span>Eino: CallOption 能力与规范</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationinterrupt_checkpoint-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationinterrupt_checkpoint-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationinterrupt_checkpoint-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/interrupt_checkpoint/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationinterrupt_checkpoint><span>Eino: Interrupt & CheckPoint使用手册</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationworkflow_orchestration_framework-li><input type=checkbox id=m-zhdocseinocore_moduleschain_and_graph_orchestrationworkflow_orchestration_framework-check>
<label for=m-zhdocseinocore_moduleschain_and_graph_orchestrationworkflow_orchestration_framework-check><a href=/zh/docs/eino/core_modules/chain_and_graph_orchestration/workflow_orchestration_framework/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleschain_and_graph_orchestrationworkflow_orchestration_framework><span>Eino: Workflow 编排框架</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_modulesflow_integration_components-li><input type=checkbox id=m-zhdocseinocore_modulesflow_integration_components-check>
<label for=m-zhdocseinocore_modulesflow_integration_components-check><a href=/zh/docs/eino/core_modules/flow_integration_components/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modulesflow_integration_components><span>Eino: Flow 集成</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulesflow_integration_componentsreact_agent_manual-li><input type=checkbox id=m-zhdocseinocore_modulesflow_integration_componentsreact_agent_manual-check>
<label for=m-zhdocseinocore_modulesflow_integration_componentsreact_agent_manual-check><a href=/zh/docs/eino/core_modules/flow_integration_components/react_agent_manual/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulesflow_integration_componentsreact_agent_manual><span>Eino: React Agent 使用手册</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulesflow_integration_componentsmulti_agent_hosting-li><input type=checkbox id=m-zhdocseinocore_modulesflow_integration_componentsmulti_agent_hosting-check>
<label for=m-zhdocseinocore_modulesflow_integration_componentsmulti_agent_hosting-check><a href=/zh/docs/eino/core_modules/flow_integration_components/multi_agent_hosting/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulesflow_integration_componentsmulti_agent_hosting><span>Eino Tutorial: Host Multi-Agent</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhdocseinocore_moduleseino_adk-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adk-check checked>
<label for=m-zhdocseinocore_moduleseino_adk-check><a href=/zh/docs/eino/core_modules/eino_adk/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_moduleseino_adk><span>Eino: ADK - Agent Development Kit</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleseino_adkagent_quickstart-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adkagent_quickstart-check>
<label for=m-zhdocseinocore_moduleseino_adkagent_quickstart-check><a href=/zh/docs/eino/core_modules/eino_adk/agent_quickstart/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleseino_adkagent_quickstart><span>Eino ADK: Quickstart</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleseino_adkagent_preview-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adkagent_preview-check>
<label for=m-zhdocseinocore_moduleseino_adkagent_preview-check><a href=/zh/docs/eino/core_modules/eino_adk/agent_preview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleseino_adkagent_preview><span>Eino ADK: 概述</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleseino_adkagent_interface-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adkagent_interface-check>
<label for=m-zhdocseinocore_moduleseino_adkagent_interface-check><a href=/zh/docs/eino/core_modules/eino_adk/agent_interface/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleseino_adkagent_interface><span>Eino ADK: Agent 抽象</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-zhdocseinocore_moduleseino_adkagent_collaboration-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adkagent_collaboration-check checked>
<label for=m-zhdocseinocore_moduleseino_adkagent_collaboration-check><a href=/zh/docs/eino/core_modules/eino_adk/agent_collaboration/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleseino_adkagent_collaboration><span class=td-sidebar-nav-active-item>Eino ADK: Agent 协作</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_moduleseino_adkagent_implementation-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adkagent_implementation-check>
<label for=m-zhdocseinocore_moduleseino_adkagent_implementation-check><a href=/zh/docs/eino/core_modules/eino_adk/agent_implementation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_moduleseino_adkagent_implementation><span>Eino ADK: Agent 实现</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleseino_adkagent_implementationchat_model-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adkagent_implementationchat_model-check>
<label for=m-zhdocseinocore_moduleseino_adkagent_implementationchat_model-check><a href=/zh/docs/eino/core_modules/eino_adk/agent_implementation/chat_model/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleseino_adkagent_implementationchat_model><span>Eino ADK: ChatModelAgent</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleseino_adkagent_implementationworkflow-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adkagent_implementationworkflow-check>
<label for=m-zhdocseinocore_moduleseino_adkagent_implementationworkflow-check><a href=/zh/docs/eino/core_modules/eino_adk/agent_implementation/workflow/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleseino_adkagent_implementationworkflow><span>Eino ADK: Workflow Agents</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleseino_adkagent_implementationplan_execute-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adkagent_implementationplan_execute-check>
<label for=m-zhdocseinocore_moduleseino_adkagent_implementationplan_execute-check><a href=/zh/docs/eino/core_modules/eino_adk/agent_implementation/plan_execute/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleseino_adkagent_implementationplan_execute><span>Eino ADK MultiAgent: Plan-Execute Agent</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleseino_adkagent_implementationsupervisor-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adkagent_implementationsupervisor-check>
<label for=m-zhdocseinocore_moduleseino_adkagent_implementationsupervisor-check><a href=/zh/docs/eino/core_modules/eino_adk/agent_implementation/supervisor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleseino_adkagent_implementationsupervisor><span>Eino ADK MultiAgent: Supervisor Agent</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_moduleseino_adkagent_extension-li><input type=checkbox id=m-zhdocseinocore_moduleseino_adkagent_extension-check>
<label for=m-zhdocseinocore_moduleseino_adkagent_extension-check><a href=/zh/docs/eino/core_modules/eino_adk/agent_extension/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_moduleseino_adkagent_extension><span>Eino ADK: Agent Runner 与扩展</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinocore_modulesdevops-li><input type=checkbox id=m-zhdocseinocore_modulesdevops-check>
<label for=m-zhdocseinocore_modulesdevops-check><a href=/zh/docs/eino/core_modules/devops/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinocore_modulesdevops><span>Eino Dev: 应用开发工具链</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulesdevopside_plugin_guide-li><input type=checkbox id=m-zhdocseinocore_modulesdevopside_plugin_guide-check>
<label for=m-zhdocseinocore_modulesdevopside_plugin_guide-check><a href=/zh/docs/eino/core_modules/devops/ide_plugin_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulesdevopside_plugin_guide><span>Eino Dev 插件安装指南</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulesdevopsvisual_orchestration_plugin_guide-li><input type=checkbox id=m-zhdocseinocore_modulesdevopsvisual_orchestration_plugin_guide-check>
<label for=m-zhdocseinocore_modulesdevopsvisual_orchestration_plugin_guide-check><a href=/zh/docs/eino/core_modules/devops/visual_orchestration_plugin_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulesdevopsvisual_orchestration_plugin_guide><span>Eino Dev 可视化编排插件功能指南</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinocore_modulesdevopsvisual_debug_plugin_guide-li><input type=checkbox id=m-zhdocseinocore_modulesdevopsvisual_debug_plugin_guide-check>
<label for=m-zhdocseinocore_modulesdevopsvisual_debug_plugin_guide-check><a href=/zh/docs/eino/core_modules/devops/visual_debug_plugin_guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinocore_modulesdevopsvisual_debug_plugin_guide><span>Eino Dev 可视化调试插件功能指南</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integration-li><input type=checkbox id=m-zhdocseinoecosystem_integration-check checked>
<label for=m-zhdocseinoecosystem_integration-check><a href=/zh/docs/eino/ecosystem_integration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integration><span>Eino: 组件集成</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationtool-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtool-check>
<label for=m-zhdocseinoecosystem_integrationtool-check><a href=/zh/docs/eino/ecosystem_integration/tool/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationtool><span>Tool</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_bingsearch-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_bingsearch-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_bingsearch-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_bingsearch/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_bingsearch><span>Tool - Bingsearch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_browseruse-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_browseruse-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_browseruse-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_browseruse/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_browseruse><span>Tool - Browseruse</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_commandline-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_commandline-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_commandline-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_commandline/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_commandline><span>Tool - Commandline</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_googlesearch-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_googlesearch-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_googlesearch-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_googlesearch/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_googlesearch><span>Tool - Googlesearch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_httprequest-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_httprequest-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_httprequest-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_httprequest/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_httprequest><span>Tool - httprequest</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_sequentialthinking-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_sequentialthinking-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_sequentialthinking-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_sequentialthinking/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_sequentialthinking><span>Tool - sequentialthinking</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_wikipedia-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_wikipedia-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_wikipedia-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_wikipedia/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_wikipedia><span>Tool - wikipedia</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_duckduckgo_search-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_duckduckgo_search-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_duckduckgo_search-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_duckduckgo_search/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_duckduckgo_search><span>Tool - DuckDuckGoSearch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationtooltool_mcp-li><input type=checkbox id=m-zhdocseinoecosystem_integrationtooltool_mcp-check>
<label for=m-zhdocseinoecosystem_integrationtooltool_mcp-check><a href=/zh/docs/eino/ecosystem_integration/tool/tool_mcp/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationtooltool_mcp><span>Tool - MCP</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationchat_model-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_model-check>
<label for=m-zhdocseinoecosystem_integrationchat_model-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationchat_model><span>ChatModel</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ark-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ark-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_ark-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_ark/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ark><span>ChatModel - ARK</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_claude-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_claude-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_claude-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_claude/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_claude><span>ChatModel - claude</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_deepseek-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_deepseek-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_deepseek-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_deepseek/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_deepseek><span>ChatModel - deepseek</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_gemini-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_gemini-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_gemini-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_gemini/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_gemini><span>ChatModel - gemini</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ollama-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ollama-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_ollama-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_ollama/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_ollama><span>ChatModel - Ollama</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_openai-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_openai-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_openai-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_openai/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_openai><span>ChatModel - OpenAI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_qianfan-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_qianfan-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_qianfan-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_qianfan/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_qianfan><span>ChatModel - qianfan</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_qwen-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_modelchat_model_qwen-check>
<label for=m-zhdocseinoecosystem_integrationchat_modelchat_model_qwen-check><a href=/zh/docs/eino/ecosystem_integration/chat_model/chat_model_qwen/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_modelchat_model_qwen><span>ChatModel - qwen</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationcallbacks-li><input type=checkbox id=m-zhdocseinoecosystem_integrationcallbacks-check>
<label for=m-zhdocseinoecosystem_integrationcallbacks-check><a href=/zh/docs/eino/ecosystem_integration/callbacks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationcallbacks><span>Callbacks</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationcallbackscallback_langfuse-li><input type=checkbox id=m-zhdocseinoecosystem_integrationcallbackscallback_langfuse-check>
<label for=m-zhdocseinoecosystem_integrationcallbackscallback_langfuse-check><a href=/zh/docs/eino/ecosystem_integration/callbacks/callback_langfuse/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationcallbackscallback_langfuse><span>Callback - Langfuse</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationcallbackscallback_apmplus-li><input type=checkbox id=m-zhdocseinoecosystem_integrationcallbackscallback_apmplus-check>
<label for=m-zhdocseinoecosystem_integrationcallbackscallback_apmplus-check><a href=/zh/docs/eino/ecosystem_integration/callbacks/callback_apmplus/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationcallbackscallback_apmplus><span>Callback - APMPlus</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationcallbackscallback_cozeloop-li><input type=checkbox id=m-zhdocseinoecosystem_integrationcallbackscallback_cozeloop-check>
<label for=m-zhdocseinoecosystem_integrationcallbackscallback_cozeloop-check><a href=/zh/docs/eino/ecosystem_integration/callbacks/callback_cozeloop/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationcallbackscallback_cozeloop><span>Callback - cozeloop</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationchat_template-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_template-check>
<label for=m-zhdocseinoecosystem_integrationchat_template-check><a href=/zh/docs/eino/ecosystem_integration/chat_template/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationchat_template><span>ChatTemplate</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationchat_templatechat_template_mcp-li><input type=checkbox id=m-zhdocseinoecosystem_integrationchat_templatechat_template_mcp-check>
<label for=m-zhdocseinoecosystem_integrationchat_templatechat_template_mcp-check><a href=/zh/docs/eino/ecosystem_integration/chat_template/chat_template_mcp/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationchat_templatechat_template_mcp><span>ChatTemplate - MCP</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationindexer-li><input type=checkbox id=m-zhdocseinoecosystem_integrationindexer-check>
<label for=m-zhdocseinoecosystem_integrationindexer-check><a href=/zh/docs/eino/ecosystem_integration/indexer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationindexer><span>Indexer</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationindexerindexer_es8-li><input type=checkbox id=m-zhdocseinoecosystem_integrationindexerindexer_es8-check>
<label for=m-zhdocseinoecosystem_integrationindexerindexer_es8-check><a href=/zh/docs/eino/ecosystem_integration/indexer/indexer_es8/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationindexerindexer_es8><span>Indexer - es8</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationindexerindexer_milvus-li><input type=checkbox id=m-zhdocseinoecosystem_integrationindexerindexer_milvus-check>
<label for=m-zhdocseinoecosystem_integrationindexerindexer_milvus-check><a href=/zh/docs/eino/ecosystem_integration/indexer/indexer_milvus/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationindexerindexer_milvus><span>Indexer - milvus</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationindexerindexer_redis-li><input type=checkbox id=m-zhdocseinoecosystem_integrationindexerindexer_redis-check>
<label for=m-zhdocseinoecosystem_integrationindexerindexer_redis-check><a href=/zh/docs/eino/ecosystem_integration/indexer/indexer_redis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationindexerindexer_redis><span>Indexer - redis</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationindexerindexer_volc_vikingdb-li><input type=checkbox id=m-zhdocseinoecosystem_integrationindexerindexer_volc_vikingdb-check>
<label for=m-zhdocseinoecosystem_integrationindexerindexer_volc_vikingdb-check><a href=/zh/docs/eino/ecosystem_integration/indexer/indexer_volc_vikingdb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationindexerindexer_volc_vikingdb><span>Indexer - volc VikingDB</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationretriever-li><input type=checkbox id=m-zhdocseinoecosystem_integrationretriever-check>
<label for=m-zhdocseinoecosystem_integrationretriever-check><a href=/zh/docs/eino/ecosystem_integration/retriever/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationretriever><span>Retriever</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationretrieverretriever_es8-li><input type=checkbox id=m-zhdocseinoecosystem_integrationretrieverretriever_es8-check>
<label for=m-zhdocseinoecosystem_integrationretrieverretriever_es8-check><a href=/zh/docs/eino/ecosystem_integration/retriever/retriever_es8/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationretrieverretriever_es8><span>Retriever - es8</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationretrieverretriever_redis-li><input type=checkbox id=m-zhdocseinoecosystem_integrationretrieverretriever_redis-check>
<label for=m-zhdocseinoecosystem_integrationretrieverretriever_redis-check><a href=/zh/docs/eino/ecosystem_integration/retriever/retriever_redis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationretrieverretriever_redis><span>Retriever - redis</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationretrieverretriever_volc_knowledge-li><input type=checkbox id=m-zhdocseinoecosystem_integrationretrieverretriever_volc_knowledge-check>
<label for=m-zhdocseinoecosystem_integrationretrieverretriever_volc_knowledge-check><a href=/zh/docs/eino/ecosystem_integration/retriever/retriever_volc_knowledge/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationretrieverretriever_volc_knowledge><span>Retriever - volc knowledge</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationretrieverretriever_dify-li><input type=checkbox id=m-zhdocseinoecosystem_integrationretrieverretriever_dify-check>
<label for=m-zhdocseinoecosystem_integrationretrieverretriever_dify-check><a href=/zh/docs/eino/ecosystem_integration/retriever/retriever_dify/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationretrieverretriever_dify><span>Retriever - dify</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationretrieverretriever_milvus-li><input type=checkbox id=m-zhdocseinoecosystem_integrationretrieverretriever_milvus-check>
<label for=m-zhdocseinoecosystem_integrationretrieverretriever_milvus-check><a href=/zh/docs/eino/ecosystem_integration/retriever/retriever_milvus/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationretrieverretriever_milvus><span>Retriever - milvus</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationretrieverretriever_volc_vikingdb-li><input type=checkbox id=m-zhdocseinoecosystem_integrationretrieverretriever_volc_vikingdb-check>
<label for=m-zhdocseinoecosystem_integrationretrieverretriever_volc_vikingdb-check><a href=/zh/docs/eino/ecosystem_integration/retriever/retriever_volc_vikingdb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationretrieverretriever_volc_vikingdb><span>Retriever - volc VikingDB</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationdocument-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocument-check>
<label for=m-zhdocseinoecosystem_integrationdocument-check><a href=/zh/docs/eino/ecosystem_integration/document/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationdocument><span>Document</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentloader_amazon_s3-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentloader_amazon_s3-check>
<label for=m-zhdocseinoecosystem_integrationdocumentloader_amazon_s3-check><a href=/zh/docs/eino/ecosystem_integration/document/loader_amazon_s3/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentloader_amazon_s3><span>Loader - amazon s3</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentloader_local_file-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentloader_local_file-check>
<label for=m-zhdocseinoecosystem_integrationdocumentloader_local_file-check><a href=/zh/docs/eino/ecosystem_integration/document/loader_local_file/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentloader_local_file><span>Loader - local file</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentloader_web_url-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentloader_web_url-check>
<label for=m-zhdocseinoecosystem_integrationdocumentloader_web_url-check><a href=/zh/docs/eino/ecosystem_integration/document/loader_web_url/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentloader_web_url><span>Loader - web url</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentparser_html-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentparser_html-check>
<label for=m-zhdocseinoecosystem_integrationdocumentparser_html-check><a href=/zh/docs/eino/ecosystem_integration/document/parser_html/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentparser_html><span>Parser - html</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentparser_pdf-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentparser_pdf-check>
<label for=m-zhdocseinoecosystem_integrationdocumentparser_pdf-check><a href=/zh/docs/eino/ecosystem_integration/document/parser_pdf/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentparser_pdf><span>Parser - pdf</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentsplitter_recursive-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentsplitter_recursive-check>
<label for=m-zhdocseinoecosystem_integrationdocumentsplitter_recursive-check><a href=/zh/docs/eino/ecosystem_integration/document/splitter_recursive/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentsplitter_recursive><span>Splitter - recursive</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentsplitter_semantic-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentsplitter_semantic-check>
<label for=m-zhdocseinoecosystem_integrationdocumentsplitter_semantic-check><a href=/zh/docs/eino/ecosystem_integration/document/splitter_semantic/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentsplitter_semantic><span>Splitter - semantic</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationdocumentsplitter_markdown-li><input type=checkbox id=m-zhdocseinoecosystem_integrationdocumentsplitter_markdown-check>
<label for=m-zhdocseinoecosystem_integrationdocumentsplitter_markdown-check><a href=/zh/docs/eino/ecosystem_integration/document/splitter_markdown/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationdocumentsplitter_markdown><span>Splitter - markdown</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocseinoecosystem_integrationembedding-li><input type=checkbox id=m-zhdocseinoecosystem_integrationembedding-check>
<label for=m-zhdocseinoecosystem_integrationembedding-check><a href=/zh/docs/eino/ecosystem_integration/embedding/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocseinoecosystem_integrationembedding><span>Embedding</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationembeddingembedding_ollama-li><input type=checkbox id=m-zhdocseinoecosystem_integrationembeddingembedding_ollama-check>
<label for=m-zhdocseinoecosystem_integrationembeddingembedding_ollama-check><a href=/zh/docs/eino/ecosystem_integration/embedding/embedding_ollama/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationembeddingembedding_ollama><span>Embedding - Ollama</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationembeddingembedding_dashscope-li><input type=checkbox id=m-zhdocseinoecosystem_integrationembeddingembedding_dashscope-check>
<label for=m-zhdocseinoecosystem_integrationembeddingembedding_dashscope-check><a href=/zh/docs/eino/ecosystem_integration/embedding/embedding_dashscope/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationembeddingembedding_dashscope><span>Embedding - dashscope</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationembeddingembedding_qianfan-li><input type=checkbox id=m-zhdocseinoecosystem_integrationembeddingembedding_qianfan-check>
<label for=m-zhdocseinoecosystem_integrationembeddingembedding_qianfan-check><a href=/zh/docs/eino/ecosystem_integration/embedding/embedding_qianfan/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationembeddingembedding_qianfan><span>Embedding - qianfan</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationembeddingembedding_tencentcloud-li><input type=checkbox id=m-zhdocseinoecosystem_integrationembeddingembedding_tencentcloud-check>
<label for=m-zhdocseinoecosystem_integrationembeddingembedding_tencentcloud-check><a href=/zh/docs/eino/ecosystem_integration/embedding/embedding_tencentcloud/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationembeddingembedding_tencentcloud><span>Embedding - tencentcloud</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationembeddingembedding_ark-li><input type=checkbox id=m-zhdocseinoecosystem_integrationembeddingembedding_ark-check>
<label for=m-zhdocseinoecosystem_integrationembeddingembedding_ark-check><a href=/zh/docs/eino/ecosystem_integration/embedding/embedding_ark/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationembeddingembedding_ark><span>Embedding - ARK</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocseinoecosystem_integrationembeddingembedding_openai-li><input type=checkbox id=m-zhdocseinoecosystem_integrationembeddingembedding_openai-check>
<label for=m-zhdocseinoecosystem_integrationembeddingembedding_openai-check><a href=/zh/docs/eino/ecosystem_integration/embedding/embedding_openai/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocseinoecosystem_integrationembeddingembedding_openai><span>Embedding - OpenAI</span></a></label></li></ul></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/cloudwego/cloudwego.github.io/edit/main/content/zh/docs/eino/core_modules/eino_adk/agent_collaboration.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> 编辑此页</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/new/main/content/zh/docs/eino/core_modules/eino_adk?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> 添加子页面</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/issues/new?title=Eino%20ADK:%20Agent%20%e5%8d%8f%e4%bd%9c" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fab fa-github fa-fw"></i> 提交文档问题</a>
<a href=https://github.com/cloudwego/eino/issues/new/choose class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fas fa-tasks fa-fw"></i> 提交项目问题</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#概述回顾>概述回顾</a></li><li><a href=#上下文传递>上下文传递</a><ul><li><a href=#history>History</a></li><li><a href=#sessionvalues>SessionValues</a></li></ul></li><li><a href=#transfer-subagents>Transfer SubAgents</a><ul><li><a href=#概念-2>概念</a></li><li><a href=#示例>示例</a></li><li><a href=#静态配置-transfer>静态配置 Transfer</a></li></ul></li><li><a href=#workflow-agents>Workflow Agents</a><ul><li><a href=#sequentialagent>SequentialAgent</a></li><li><a href=#loopagent>LoopAgent</a></li><li><a href=#parallelagent>ParallelAgent</a></li></ul></li><li><a href=#agentastool>AgentAsTool</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://www.cloudwego.io/zh/docs/>文档</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/zh/docs/eino/>Eino</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/zh/docs/eino/core_modules/>Eino: 核心模块</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/zh/docs/eino/core_modules/eino_adk/>Eino: ADK - Agent Development Kit</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://www.cloudwego.io/zh/docs/eino/core_modules/eino_adk/agent_collaboration/>Eino ADK: Agent 协作</a></li></ol></nav><div class=td-content><h1>Eino ADK: Agent 协作</h1><header class=article-meta></header><h2 id=概述回顾>概述回顾</h2><p>概述文档已经对 Agent 协作提供了基础的说明，下面将结合代码，对协作与组合原语的设计与实现进行介绍：</p><ul><li><p>协作原语</p><ul><li>Agent 间协作方式</li></ul><table class="bd-browser-bugs table table-bordered table-hover"><tr><td>协助方式</td><td>描述</td></tr><tr><td>Transfer</td><td>直接将任务转让给另外一个 Agent，本 Agent 则执行结束后退出，不关心转让 Agent 的任务执行状态</td></tr><tr><td>ToolCall(AgentAsTool)</td><td>将 Agent 当成 ToolCall 调用，等待 Agent 的响应，并可获取被调用Agent 的输出结果，进行下一轮处理</td></tr></table><ul><li>AgentInput 的上下文策略</li></ul><table class="bd-browser-bugs table table-bordered table-hover"><tr><td>上下文策略</td><td>描述</td></tr><tr><td>上游 Agent 全对话</td><td>获取本 Agent 的上游 Agent 的完整对话记录</td></tr><tr><td>全新任务描述</td><td>忽略掉上游 Agent 的完整对话记录，给出一个全新的任务总结，作为子 Agent 的 AgentInput 输入</td></tr></table><ul><li>决策自主性</li></ul><table class="bd-browser-bugs table table-bordered table-hover"><tr><td>决策自主性</td><td>描述</td></tr><tr><td>自主决策</td><td>在 Agent 内部，基于其可选的下游 Agent， 如需协助时，自主选择下游 Agent 进行协助。 一般来说，Agent 内部是基于 LLM 进行决策，不过即使是基于预设逻辑进行选择，从 Agent 外部看依然视为自主决策</td></tr><tr><td>预设决策</td><td>事先预设好一个Agent 执行任务后的下一个 Agent。 Agent 的执行顺序是事先确定、可预测的</td></tr></table></li><li><p>组合原语</p><table class="bd-browser-bugs table table-bordered table-hover"><tr><td>类型</td><td>描述</td><td>运行模式</td><td>协作方式</td><td>上下文策略</td><td>决策自主性</td></tr><tr><td><strong>SubAgents</strong></td><td>将用户提供的 agent 作为 父Agent，用户提供的 subAgents 列表作为 子Agents，组合而成可自主决策的 Agent，其中的 Name 和 Description 作为该 Agent 的名称标识和描述。<li>当前限定一个 Agent 只能有一个 父 Agent</li><li>可采用 SetSubAgents 函数，构建 「多叉树」 形式的 Multi-Agent</li><li>在这个「多叉树」中，AgentName 需要保持唯一</li></td><td><a href=/img/eino/PSFuwhsHJhYkGDb8S45cDdcxnxf.png target=_blank><img src=/img/eino/PSFuwhsHJhYkGDb8S45cDdcxnxf.png width=100%></a></td><td>Transfer</td><td>上游 Agent 全对话</td><td>自主决策</td></tr><tr><td><strong>Sequential</strong></td><td>将用户提供的 SubAgents 列表，组合成按照顺序依次执行的 Sequential Agent，其中的 Name 和 Description 作为 Sequential Agent 的名称标识和描述。Sequential Agent 执行时，将 SubAgents 列表，按照顺序依次执行，直至将所有 Agent 执行一遍后结束。</td><td><a href=/img/eino/JYoHwKhfQhRmYZb6jEDcy1ofnVe.png target=_blank><img src=/img/eino/JYoHwKhfQhRmYZb6jEDcy1ofnVe.png width=100%></a></td><td>Transfer</td><td>上游 Agent 全对话</td><td>预设决策</td></tr><tr><td><strong>Parallel</strong></td><td>将用户提供的 SubAgents 列表，组合成基于相同上下文，并发执行的 Parallel Agent，其中的 Name 和 Description 作为 Parallel Agent 的名称标识和描述。Parallel Agent 执行时，将 SubAgents 列表，并发执行，待所有 Agent 执行完成后结束。</td><td><a href=/img/eino/ZAlewk2iWhP5yxbieEkchYTVnWd.png target=_blank><img src=/img/eino/ZAlewk2iWhP5yxbieEkchYTVnWd.png width=100%></a></td><td>Transfer</td><td>上游 Agent 全对话</td><td>预设决策</td></tr><tr><td><strong>Loop</strong></td><td>将用户提供的 SubAgents 列表，按照数组顺序依次执行，循环往复，组合成 Loop Agent，其中的 Name 和 Description 作为 Loop Agent 的名称标识和描述。Loop Agent 执行时，将 SubAgents 列表，顺序执行，待所有 Agent 执行完成后结束。</td><td><a href=/img/eino/EetbwO6wIh1YCnbylPOcQXPmnaf.png target=_blank><img src=/img/eino/EetbwO6wIh1YCnbylPOcQXPmnaf.png width=100%></a></td><td>Transfer</td><td>上游 Agent 全对话</td><td>预设决策</td></tr><tr><td><strong>AgentAsTool</strong></td><td>将一个 Agent 转换成 Tool，被其他的 Agent 当成普通的 Tool 使用。一个 Agent 能否将其他 Agent 当成 Tool 进行调用，取决于自身的实现。adk 中提供的 ChatModelAgent 支持 AgentAsTool 的功能</td><td><a href=/img/eino/TAsuwnewYheUVqbnWSKcmR6fnNd.png target=_blank><img src=/img/eino/TAsuwnewYheUVqbnWSKcmR6fnNd.png width=100%></a></td><td>ToolCall</td><td>全新任务描述</td><td>自主决策</td></tr></table></li></ul><h2 id=上下文传递>上下文传递</h2><p>在构建多 Agent 系统时，让不同 Agent 之间高效、准确地共享信息至关重要。Eino ADK 提供了两种核心的上下文传递机制，以满足不同的协作需求： History 和 SessionValues。</p><h3 id=history>History</h3><h4 id=概念>概念</h4><p>History 对应【上游 Agent 全对话上下文策略】，多 Agent 系统中每一个 Agent 产生的 AgentEvent 都会被保存到 History 中，调用一个新 Agent 时 (Workflow/ Transfer) History 中的 AgentEvent 会被转换并拼接到 AgentInput 中。</p><p>默认情况下，其他 Agent 的 Assistant 或 Tool Message，被转换为 User Message。这相当于在告诉当前的 LLM：“刚才， Agent_A 调用了 some_tool ，返回了 some_result 。现在，轮到你来决策了。”</p><p>通过这种方式，其他 Agent 的行为被当作了提供给当前 Agent 的“外部信息”或“事实陈述”，而不是它自己的行为，从而避免了 LLM 的上下文混乱。</p><p><a href=/img/eino/XwnMwCmNph3U7ib9OFQcqYgdnjg.png target=_blank><img src=/img/eino/XwnMwCmNph3U7ib9OFQcqYgdnjg.png width=50%></a></p><p>在 Eino ADK 中，当为一个 Agent 构建 AgentInput 时，会对 History 中的 Event 进行过滤，确保 Agent 只会接收到当前 Agent 的直接或间接父 Agent 产生的 Event。换句话说，只有当 Event 的 RunPath “属于”当前 Agent 的 RunPath 时，该 Event 才会参与构建 Agent 的 Input。</p><blockquote><p>💡
RunPathA “属于” RunPathB 定义为 RunPathA 与 RunPathB 相同或者 RunPathA 是 RunPathB 的前缀</p></blockquote><p>下面表格中给出各种编排模式下，Agent 执行时的具体 RunPath：</p><table class="bd-browser-bugs table table-bordered table-hover"><tr><td>Example</td><td>RunPath</td></tr><tr><td><a href=/img/eino/NmeTwgv9Ph15mhbxi5KcGSxKnvL.png target=_blank><img src=/img/eino/NmeTwgv9Ph15mhbxi5KcGSxKnvL.png width=20%></a></td><td><li>Agent: [Agent]</li><li>SubAgent: [Agent, SubAgent]</li></td></tr><tr><td><a href=/img/eino/IHBYwzKJahvPOdbRdX8cpTBSnde.png target=_blank><img src=/img/eino/IHBYwzKJahvPOdbRdX8cpTBSnde.png width=30%></a></td><td><li>Agent: [Agent]</li><li>Agent（after function call）: [Agent]</li></td></tr><tr><td><a href=/img/eino/Syzww9Z2khV7uvbFzBnc2zchnGd.png target=_blank><img src=/img/eino/Syzww9Z2khV7uvbFzBnc2zchnGd.png width=100%></a></td><td><li>Agent1: [SequentialAgent, LoopAgent, Agent1]</li><li>Agent2: [SequentialAgent, LoopAgent, Agent1, Agent2]</li><li>Agent1: [SequentialAgent, LoopAgent, Agent1, Agent2, Agent1]</li><li>Agent2: [SequentialAgent, LoopAgent, Agent1, Agent2, Agent1, Agent2]</li><li>Agent3: [SequentialAgent, LoopAgent, Agent3]</li><li>Agent4: [SequentialAgent, LoopAgent, Agent3, ParallelAgent, Agent4]</li><li>Agent5: [SequentialAgent, LoopAgent, Agent3, ParallelAgent, Agent5]</li><li>Agent6: [SequentialAgent, LoopAgent, Agent3, ParallelAgent, Agent6]</li></td></tr><tr><td><a href=/img/eino/Kox4wVhSjhkBXEbDIqSciZRHnvb.png target=_blank><img src=/img/eino/Kox4wVhSjhkBXEbDIqSciZRHnvb.png width=50%></a></td><td><li>Agent: [Agent]</li><li>SubAgent: [Agent, SubAgent]</li><li>Agent: [Agent, SubAgent, Agent]</li></td></tr></table><h4 id=自定义>自定义</h4><p>有些情况下在 Agent 运行前需要对 History 的内容进行调整，此时通过 AgentWithOptions 可以自定义 Agent 从 History 中生成 AgentInput 的方式：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// github.com/cloudwego/eino/adk/flow.go</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>HistoryRewriter</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>entries</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>HistoryEntry</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>([]</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>WithHistoryRewriter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>h</span> <span style=color:#000>HistoryRewriter</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>AgentOption</span>
</span></span></code></pre></div><h3 id=sessionvalues>SessionValues</h3><h4 id=概念-1>概念</h4><p>SessionValues 是在一次运行中持续存在的全局临时 KV 存储，用于支持跨 Agent 的状态管理和数据共享，一次运行中的任何 Agent 可以在任何时间读写 SessionValues。Eino ADK 提供了三种方法访问 SessionValues：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// github.com/cloudwego/eino/adk/runctx.go</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 批量设置 SessionValues (key冲突时覆盖)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>AddSessionValues</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>kvs</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 获取全部 SessionValues</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>GetSessionValues</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>any</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 设置 SessionValue (key冲突时覆盖)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>AddSessionValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>key</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>value</span> <span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 指定 key 获取 SessionValues 中的一个值，key 不存在时第二个返回值为 false，否则为 true</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>GetSessionValue</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>key</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>any</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>bool</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h2 id=transfer-subagents>Transfer SubAgents</h2><h3 id=概念-2>概念</h3><p>Transfer 对应【Transfer 协作方式】，Agent 运行时产生带有包含 TransferAction 的 AgentEvent 后，Eino ADK 会调用 Action 指定的 Agent，被调用的 Agent 被称为子 Agent（SubAgent）。</p><p>TransferAction 可以使用 <code>NewTransferToAgentAction</code> 快速创建：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#4e9a06>&#34;github.com/cloudwego/eino/adk&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>event</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewTransferToAgentAction</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;dest agent name&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><p>为了让 Eino ADK 在接受到 TransferAction 可以找到子 Agent 实例并运行，在运行前需要先调用 <code>SetSubAgents</code> 将可能的子 Agent 注册到 Eino ADK 中：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// github.com/cloudwego/eino/adk/flow.go</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>SetSubAgents</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>agent</span> <span style=color:#000>Agent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>subAgents</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><blockquote><p>💡
Transfer 的含义是将任务<strong>移交</strong>给子 Agent，而不是委托或者分配，因此：</p><ol><li>区别于 ToolCall，通过 Transfer 调用子 Agent，子 Agent 运行结束后，不会再调用父 Agent 总结内容或进行下一步操作。</li><li>调用子 Agent 时，子 Agent 的输入仍然是原始输入，父 Agent 的输出会作为上下文供子 Agent 参考。</li></ol></blockquote><p>在触发 SetSubAgents 时，父子 Agent 双方都需要进行处理来完成初始化操作，Eino ADK 定义了 <code>OnSubAgents</code> 接口用于支持此功能：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// github.com/cloudwego/eino/adk/interface.go</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>OnSubAgents</span> <span style=color:#204a87;font-weight:700>interface</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>OnSetSubAgents</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>subAgents</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>error</span>
</span></span><span style=display:flex><span>    <span style=color:#000>OnSetAsSubAgent</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>parent</span> <span style=color:#000>Agent</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>error</span>
</span></span><span style=display:flex><span>    <span style=color:#000>OnDisallowTransferToParent</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>error</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>如果 Agent 实现了 <code>OnSubAgents</code> 接口，<code>SetSubAgents</code> 中会调用相应的方法向 Agent 注册，例如 <code>ChatModelAgent</code> 的实现</p><h3 id=示例>示例</h3><p>接下来以一个多功能对话 Agent 演示 Transfer 能力，目标是搭建一个可以查询天气或者与用户对话的 Agent，Agent 结构如下：</p><p><a href=/img/eino/FB2FwX1S5hFciJbIGDFcAWIdn1p.png target=_blank><img src=/img/eino/FB2FwX1S5hFciJbIGDFcAWIdn1p.png width=50%></a></p><p>三个 Agent 均使用 ChatModelAgent 实现：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;context&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;log&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;github.com/cloudwego/eino-ext/components/model/openai&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;github.com/cloudwego/eino/adk&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;github.com/cloudwego/eino/components/model&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;github.com/cloudwego/eino/components/tool&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;github.com/cloudwego/eino/components/tool/utils&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;github.com/cloudwego/eino/compose&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>newChatModel</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000>model</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToolCallingChatModel</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>cm</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>openai</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewChatModel</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Background</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>openai</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ChatModelConfig</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>APIKey</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>os</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Getenv</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;OPENAI_API_KEY&#34;</span><span style=color:#000;font-weight:700>),</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Model</span><span style=color:#000;font-weight:700>:</span>  <span style=color:#000>os</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Getenv</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;OPENAI_MODEL&#34;</span><span style=color:#000;font-weight:700>),</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>cm</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>GetWeatherInput</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>City</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;city&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>NewWeatherAgent</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Agent</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>weatherTool</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>utils</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>InferTool</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>       <span style=color:#4e9a06>&#34;get_weather&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>       <span style=color:#4e9a06>&#34;Gets the current weather for a specific city.&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#8f5902;font-style:italic>// English description</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>GetWeatherInput</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Sprintf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>`the temperature in %s is 25°C`</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>input</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>City</span><span style=color:#000;font-weight:700>),</span> <span style=color:#204a87;font-weight:700>nil</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>a</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewChatModelAgent</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Background</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ChatModelAgentConfig</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Name</span><span style=color:#000;font-weight:700>:</span>        <span style=color:#4e9a06>&#34;WeatherAgent&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Description</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;This agent can get the current weather for a given city.&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Instruction</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Your sole purpose is to get the current weather for a given city by using the &#39;get_weather&#39; tool. After calling the tool, report the result directly to the user.&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Model</span><span style=color:#000;font-weight:700>:</span>       <span style=color:#000>newChatModel</span><span style=color:#000;font-weight:700>(),</span>
</span></span><span style=display:flex><span>       <span style=color:#000>ToolsConfig</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToolsConfig</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>ToolsNodeConfig</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>compose</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ToolsNodeConfig</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>             <span style=color:#000>Tools</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#000>tool</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>BaseTool</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>weatherTool</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>a</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>NewChatAgent</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Agent</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>a</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewChatModelAgent</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Background</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ChatModelAgentConfig</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Name</span><span style=color:#000;font-weight:700>:</span>        <span style=color:#4e9a06>&#34;ChatAgent&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Description</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;A general-purpose agent for handling conversational chat.&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#8f5902;font-style:italic>// English description</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Instruction</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;You are a friendly conversational assistant. Your role is to handle general chit-chat and answer questions that are not related to any specific tool-based tasks.&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Model</span><span style=color:#000;font-weight:700>:</span>       <span style=color:#000>newChatModel</span><span style=color:#000;font-weight:700>(),</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>a</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>NewRouterAgent</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Agent</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>a</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewChatModelAgent</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Background</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ChatModelAgentConfig</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Name</span><span style=color:#000;font-weight:700>:</span>        <span style=color:#4e9a06>&#34;RouterAgent&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Description</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;A manual router that transfers tasks to other expert agents.&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Instruction</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>`You are an intelligent task router. Your responsibility is to analyze the user&#39;s request and delegate it to the most appropriate expert agent.If no Agent can handle the task, simply inform the user it cannot be processed.`</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Model</span><span style=color:#000;font-weight:700>:</span>       <span style=color:#000>newChatModel</span><span style=color:#000;font-weight:700>(),</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>a</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>之后使用 Eino ADK 的 Transfer 能力搭建 Multi-Agent 并运行，ChatModelAgent 实现了 OnSubAgent 接口，在 adk.SetSubAgents 方法中会使用此接口向 ChatModelAgent 注册父/子 Agent，不需要用户处理 TransferAction 生成问题：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;context&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;log&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;github.com/cloudwego/eino/adk&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>weatherAgent</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewWeatherAgent</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#000>chatAgent</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewChatAgent</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#000>routerAgent</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>NewRouterAgent</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>ctx</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Background</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#000>a</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SetSubAgents</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>routerAgent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>chatAgent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>weatherAgent</span><span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>runner</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewRunner</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RunnerConfig</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>Agent</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>a</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// query weather</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87>println</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;\n\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;query weather&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>iter</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>runner</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Query</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;What&#39;s the weather in Beijing?&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>event</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ok</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>iter</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Next</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>!</span><span style=color:#000>ok</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>break</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Action</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Printf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;\nAgent[%s]: transfer to %+v\n\n======\n&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AgentName</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Action</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>TransferToAgent</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DestAgentName</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Printf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;\nAgent[%s]:\n%+v\n\n======\n&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AgentName</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Output</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MessageOutput</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>// failed to route</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87>println</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;\n\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;failed to route&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>iter</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>runner</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Query</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Book me a flight from New York to London tomorrow.&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>event</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ok</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>iter</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Next</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>!</span><span style=color:#000>ok</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>break</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>       <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Action</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Printf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;\nAgent[%s]: transfer to %+v\n\n======\n&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AgentName</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Action</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>TransferToAgent</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DestAgentName</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Printf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;\nAgent[%s]:\n%+v\n\n======\n&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AgentName</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>event</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Output</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MessageOutput</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Message</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>       <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>运行结果：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#000>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;query weather&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>Agent[RouterAgent]</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>assistant</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>tool_calls</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>{<span style=color:#000>Index:&lt;nil&gt; ID:call_SKNsPwKCTdp1oHxSlAFt8sO6 Type:function Function:{Name:transfer_to_agent Arguments:{&#34;agent_name&#34;:&#34;WeatherAgent&#34;}} Extra:map[]}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>finish_reason</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>tool_calls</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>usage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>&amp;{201</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>17</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>218</span>}<span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>======</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>Agent[RouterAgent]</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>transfer to WeatherAgent</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>======</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>Agent[WeatherAgent]</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>assistant</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>tool_calls</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>{<span style=color:#000>Index:&lt;nil&gt; ID:call_QMBdUwKj84hKDAwMMX1gOiES Type:function Function:{Name:get_weather Arguments:{&#34;city&#34;:&#34;Beijing&#34;}} Extra:map[]}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>finish_reason</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>tool_calls</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>usage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>&amp;{255</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>15</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>270</span>}<span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>======</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>Agent[WeatherAgent]</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>tool</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>the temperature in Beijing is 25°C</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>tool_call_id</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>call_QMBdUwKj84hKDAwMMX1gOiES</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>tool_call_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>get_weather</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>======</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>Agent[WeatherAgent]</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>assistant</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The current temperature in Beijing is 25°C.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>finish_reason</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>stop</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>usage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>&amp;{286</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>297</span>}<span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>======</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;failed to route&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>Agent[RouterAgent]</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>assistant</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>I&#39;m unable to assist with booking flights. Please use a relevant travel service or booking platform to make your reservation.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>finish_reason</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>stop</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>usage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>&amp;{206</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>23</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>229</span>}<span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>======</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>OnSubAgents 的另外两个方法在 Agent 作为 SetSubAgents 中的子 Agent 时被调用：</p><ul><li>OnSetAsSubAgent 用来注册向 Agent 注册其父 Agent 信息</li><li>OnDisallowTransferToParent 在 Agent 设置 WithDisallowTransferToParent option 时会被调用，用来告知 Agent 不要产生向父 Agent 的 TransferAction。</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SetSubAgents</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Agent1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>[]</span><span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>       <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AgentWithOptions</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>Agent2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithDisallowTransferToParent</span><span style=color:#000;font-weight:700>()),</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h3 id=静态配置-transfer>静态配置 Transfer</h3><p>AgentWithDeterministicTransferTo 是一个 Agent Wrapper，在原 Agent 执行完后生成预设的 TransferAction，从而实现静态配置 Agent 跳转的能力：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// github.com/cloudwego/eino/adk/flow.go</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>DeterministicTransferConfig</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Agent</span>        <span style=color:#000>Agent</span>
</span></span><span style=display:flex><span>        <span style=color:#000>ToAgentNames</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>AgentWithDeterministicTransferTo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>_</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>config</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>DeterministicTransferConfig</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>Agent</span>
</span></span></code></pre></div><p>在 Supervisor 模式中，子 Agent 执行完毕后固定回到 Supervisor，由 Supervisor 生成下一步任务目标。此时可以使用 AgentWithDeterministicTransferTo：</p><p><a href=/img/eino/JFl7wI6gAhAS1ibi0IucZIKXnzh.png target=_blank><img src=/img/eino/JFl7wI6gAhAS1ibi0IucZIKXnzh.png width=70%></a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// github.com/cloudwego/eino/adk/prebuilt/supervisor.go</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>SupervisorConfig</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Supervisor</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Agent</span>
</span></span><span style=display:flex><span>        <span style=color:#000>SubAgents</span>  <span style=color:#000;font-weight:700>[]</span><span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Agent</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>NewSupervisor</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>conf</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>SupervisorConfig</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>subAgents</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#204a87>make</span><span style=color:#000;font-weight:700>([]</span><span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87>len</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>conf</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SubAgents</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>        <span style=color:#000>supervisorName</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>conf</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Supervisor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Name</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>subAgent</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#204a87;font-weight:700>range</span> <span style=color:#000>conf</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SubAgents</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>subAgents</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>subAgents</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AgentWithDeterministicTransferTo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DeterministicTransferConfig</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#000>Agent</span><span style=color:#000;font-weight:700>:</span>        <span style=color:#000>subAgent</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                        <span style=color:#000>ToAgentNames</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>supervisorName</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>}))</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>adk</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SetSubAgents</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>conf</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Supervisor</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>subAgents</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=workflow-agents>Workflow Agents</h2><p>WorkflowAgent 支持以代码中预设好的流程运行 Agents。Eino ADK 提供了三种基础 Workflow Agent：Sequential、Parallel、Loop，它们之间可以互相嵌套以完成更复杂的任务。</p><p>默认情况下，Workflow 中每个 Agent 的输入由 History 章节中介绍的方式生成，可以通过 WithHistoryRewriter 自定 AgentInput 生成方式。</p><p>当 Agent 产生 ExitAction Event 后，Workflow Agent 会立刻退出，无论之后有没有其他需要运行的 Agent。</p><p>详解与用例参考请见：<a href=/zh/docs/eino/core_modules/eino_adk/agent_implementation/workflow>Eino ADK: Workflow Agents</a></p><h3 id=sequentialagent>SequentialAgent</h3><p>SequentialAgent 会按照你提供的顺序，依次执行一系列 Agent：</p><p><a href=/img/eino/BONAwG4YGhsXp2b3BXWcLXnGnPh.png target=_blank><img src=/img/eino/BONAwG4YGhsXp2b3BXWcLXnGnPh.png width=80%></a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>SequentialAgentConfig</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Name</span>        <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Description</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>SubAgents</span>   <span style=color:#000;font-weight:700>[]</span><span style=color:#000>Agent</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>NewSequentialAgent</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>config</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>SequentialAgentConfig</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h3 id=loopagent>LoopAgent</h3><p>LoopAgent 基于 SequentialAgent 实现，在 SequentialAgent 运行完成后，再次从头运行：</p><p><a href=/img/eino/FUn8wE2HVhsVkWbb1szc8JFDntd.png target=_blank><img src=/img/eino/FUn8wE2HVhsVkWbb1szc8JFDntd.png width=80%></a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>LoopAgentConfig</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Name</span>        <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Description</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>SubAgents</span>   <span style=color:#000;font-weight:700>[]</span><span style=color:#000>Agent</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>MaxIterations</span> <span style=color:#204a87;font-weight:700>int</span> <span style=color:#8f5902;font-style:italic>// 最大循环次数</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>NewLoopAgent</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>config</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>LoopAgentConfig</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h3 id=parallelagent>ParallelAgent</h3><p>ParallelAgent 会并发运行若干 Agent：</p><p><a href=/img/eino/BmQywuBIshwKKGbb8Lzc313RnUg.png target=_blank><img src=/img/eino/BmQywuBIshwKKGbb8Lzc313RnUg.png width=80%></a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>ParallelAgentConfig</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Name</span>        <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Description</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>SubAgents</span>   <span style=color:#000;font-weight:700>[]</span><span style=color:#000>Agent</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>NewParallelAgent</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>config</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>ParallelAgentConfig</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>Agent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h2 id=agentastool>AgentAsTool</h2><p>当 Agent 运行仅需要明确清晰的指令，而非完整运行上下文（History）时，该 Agent 可以转换为 Tool 进行调用:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>NewAgentTool</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>_</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>agent</span> <span style=color:#000>Agent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>options</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>AgentToolOption</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>tool</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>BaseTool</span>
</span></span></code></pre></div><p>转换为 Tool 后，Agent 可以被支持 function calling 的 ChatModel 调用，也可以被所有基于 LLM 驱动的 Agent 调用，调用方式取决于 Agent 实现。</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>反馈</h2><p class=feedback--question>当前页面对你有帮助吗？</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">是</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">否</button><p class="feedback--response feedback--response-yes"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>请告诉我们如何改进</a>.</p><p class="feedback--response feedback--response-no"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>请告诉我们如何改进</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof ga!="function")return;const t={command:"send",hitType:"event",category:"Helpful",action:"click",label:window.location.pathname,value:e};ga(t.command,t.hitType,t.category,t.action,t.label,t.value)};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(1)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">最后修改
October 1, 2025
: <a href=https://github.com/cloudwego/cloudwego.github.io/commit/dddc1652889a582486942c22f5a5e5a73acd8df7>docs: add description of breaking changes of kitex v0.15.1 (#1430) (dddc165)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Lark aria-label=Lark><a class=text-white target=_blank rel=noopener href="https://applink.feishu.cn/client/chat/chatter/add_by_link?link_token=693v2544-2664-4421-b50f-7f1912p745r6" aria-label=Lark><img src=/webfonts/lark.svg alt style=width:26px;line-height:32.5px;margin-bottom:6px;fill:#fff></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/CloudWeGo aria-label=Twitter><img src=/webfonts/x-twitter.svg alt style=width:26px;line-height:32.5px;margin-bottom:6px;fill:#fff></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/cloudwego aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discord aria-label=Discord><a class=text-white target=_blank rel=noopener href=https://discord.gg/jceZSE7DsW aria-label=Discord><i class="fab fa-discord"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2025 The CloudWeGo Authors</small><p class="mt-2 text-white"><a class=cloudwego-link href=/about/ target=_blank rel=noopener>About</a>
|
<a class=cloudwego-link href=https://github.com/cloudwego/cloudwego.github.io/blob/main/LICENSE target=_blank rel=noopener>License</a></p></div></div></div></footer></div><script src=/js/popper.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/main.min.9a8648b987db06195f5768f0d7516e8df7c27669e91e383e25c5d07cd6325605.js integrity="sha256-moZIuYfbBhlfV2jw11FujffCdmnpHjg+JcXQfNYyVgU=" crossorigin=anonymous></script><script src=/js/prism.js></script><script src=/js/prism-custom.js></script><script src=/js/tabpane-persist.js></script><script src=/js/docsearch.js></script><script type=text/javascript>let siteLang=window.location.pathname.startsWith("/zh/")?"zh":"en";docsearch({appId:"V7I042F992",apiKey:"8380a7ac88106841cb43fb000fa2edb4",indexName:"cloudwego",container:"#docsearch",searchParameters:{hitsPerPage:5,facetFilters:[`lang:${siteLang}`]},transformItems(e){return e.map(e=>({...e,url:e.url.replace("www.cloudwego.io",location.host).replace("https:",location.protocol)}))}})</script><script src=/js/outbound-link.js></script><script src=/js/navScroll.js></script></body></html>