<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.142.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Template Extension | CloudWeGo</title>
<meta name=description content="A leading practice for building enterprise cloud native middleware!"><meta property="og:url" content="https://www.cloudwego.io/docs/cwgo/tutorials/templete-extension/"><meta property="og:site_name" content="CloudWeGo"><meta property="og:title" content="Template Extension"><meta property="og:description" content="The cwgo tool also supports passing its own template, and the template syntax is the syntax of go template. cwgo also welcomes users to contribute their own templates. Due to the different concepts of RPC and HTTP, the corresponding template variables also have some differences, please refer to the following for details.
To pass a custom template, add the -template parameter to the command, such as:
cwgo server -type RPC -service {service name} -idl {idl path} -template {tpl path} Template Reading cwgo supports reading templates from local or git. git supports https or ssh formats, with -template specifying the template path and -branch specifying the template branch(default to the main branch)."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Template Extension"><meta itemprop=description content="The cwgo tool also supports passing its own template, and the template syntax is the syntax of go template. cwgo also welcomes users to contribute their own templates. Due to the different concepts of RPC and HTTP, the corresponding template variables also have some differences, please refer to the following for details.
To pass a custom template, add the -template parameter to the command, such as:
cwgo server -type RPC -service {service name} -idl {idl path} -template {tpl path} Template Reading cwgo supports reading templates from local or git. git supports https or ssh formats, with -template specifying the template path and -branch specifying the template branch(default to the main branch)."><meta itemprop=dateModified content="2025-03-07T17:25:05+08:00"><meta itemprop=wordCount content="743"><meta name=twitter:card content="summary"><meta name=twitter:title content="Template Extension"><meta name=twitter:description content="The cwgo tool also supports passing its own template, and the template syntax is the syntax of go template. cwgo also welcomes users to contribute their own templates. Due to the different concepts of RPC and HTTP, the corresponding template variables also have some differences, please refer to the following for details.
To pass a custom template, add the -template parameter to the command, such as:
cwgo server -type RPC -service {service name} -idl {idl path} -template {tpl path} Template Reading cwgo supports reading templates from local or git. git supports https or ssh formats, with -template specifying the template path and -branch specifying the template branch(default to the main branch)."><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYWRQRLPRM"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QYWRQRLPRM")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?f1808c42af827f368aa7eca3baae6d55",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=preload href=/scss/main.min.b3c21c777309e05201dd625b8a4ece4076249bfa52b71d58c6e352d84c6c0320.css as=style><link href=/scss/main.min.b3c21c777309e05201dd625b8a4ece4076249bfa52b71d58c6e352d84c6c0320.css rel=stylesheet integrity><script src=/js/jquery.min.js></script><link rel=stylesheet href=/css/prism.css><link rel=stylesheet href=/css/docsearch.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYWRQRLPRM"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QYWRQRLPRM")}</script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand-xl navbar-dark td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><img src=/img/logo.png></span>
</a><button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0 ml-auto"><li class="dropdown sub-menu active"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Documentation</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/kitex/>Kitex</a>
<a class=dropdown-item href=/docs/hertz/>Hertz</a>
<a class=dropdown-item href=/docs/volo/>Volo</a>
<a class=dropdown-item href=/docs/netpoll/>Netpoll</a>
<a class=dropdown-item href=/docs/cwgo/>Cwgo</a>
<a class=dropdown-item href=/docs/eino/>Eino</a>
<a class=dropdown-item href=/docs/monolake/>Monolake</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cooperation/><span>Cooperation</span></a></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Security</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/security/safety-bulletin/>safety-bulletin</a>
<a class=dropdown-item href=/security/vulnerability-reporting/>vulnerability-reporting</a></div></li><li class="nav-item dropdown mr-4"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/cwgo/tutorials/templete-extension/>中文</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><div id=docsearch></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div id=docsearch></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/cwgo/tutorials/templete-extension/>中文</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docscwgo-li><input type=checkbox id=m-docscwgo-check checked>
<label for=m-docscwgo-check><a href=/docs/cwgo/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgo><span>Cwgo</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgooverview-li><input type=checkbox id=m-docscwgooverview-check checked>
<label for=m-docscwgooverview-check><a href=/docs/cwgo/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgooverview><span>Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgogetting-started-li><input type=checkbox id=m-docscwgogetting-started-check checked>
<label for=m-docscwgogetting-started-check><a href=/docs/cwgo/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgogetting-started><span>Getting Started</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docscwgotutorials-li><input type=checkbox id=m-docscwgotutorials-check checked>
<label for=m-docscwgotutorials-check><a href=/docs/cwgo/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorials><span>Tutorials</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialscli-li><input type=checkbox id=m-docscwgotutorialscli-check>
<label for=m-docscwgotutorialscli-check><a href=/docs/cwgo/tutorials/cli/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorialscli><span>CLI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docscwgotutorialstemplete-extension-li><input type=checkbox id=m-docscwgotutorialstemplete-extension-check checked>
<label for=m-docscwgotutorialstemplete-extension-check><a href=/docs/cwgo/tutorials/templete-extension/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorialstemplete-extension><span class=td-sidebar-nav-active-item>Template Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialslayout-li><input type=checkbox id=m-docscwgotutorialslayout-check>
<label for=m-docscwgotutorialslayout-check><a href=/docs/cwgo/tutorials/layout/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorialslayout><span>Layout</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscwgotutorialsclient-li><input type=checkbox id=m-docscwgotutorialsclient-check>
<label for=m-docscwgotutorialsclient-check><a href=/docs/cwgo/tutorials/client/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorialsclient><span>Client</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsclientcommand-li><input type=checkbox id=m-docscwgotutorialsclientcommand-check>
<label for=m-docscwgotutorialsclientcommand-check><a href=/docs/cwgo/tutorials/client/command/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsclientcommand><span>commands</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsclientexample_thrift-li><input type=checkbox id=m-docscwgotutorialsclientexample_thrift-check>
<label for=m-docscwgotutorialsclientexample_thrift-check><a href=/docs/cwgo/tutorials/client/example_thrift/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsclientexample_thrift><span>thrift usage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsclientexample_pb-li><input type=checkbox id=m-docscwgotutorialsclientexample_pb-check>
<label for=m-docscwgotutorialsclientexample_pb-check><a href=/docs/cwgo/tutorials/client/example_pb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsclientexample_pb><span>protobuf usage</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsdb-li><input type=checkbox id=m-docscwgotutorialsdb-check>
<label for=m-docscwgotutorialsdb-check><a href=/docs/cwgo/tutorials/db/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorialsdb><span>DB</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscwgotutorialsdoc-li><input type=checkbox id=m-docscwgotutorialsdoc-check>
<label for=m-docscwgotutorialsdoc-check><a href=/docs/cwgo/tutorials/doc/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorialsdoc><span>Doc</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsdoccommands-li><input type=checkbox id=m-docscwgotutorialsdoccommands-check>
<label for=m-docscwgotutorialsdoccommands-check><a href=/docs/cwgo/tutorials/doc/commands/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsdoccommands><span>commands</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsdocusage_rule-li><input type=checkbox id=m-docscwgotutorialsdocusage_rule-check>
<label for=m-docscwgotutorialsdocusage_rule-check><a href=/docs/cwgo/tutorials/doc/usage_rule/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsdocusage_rule><span>usage rule</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsdoclayout-li><input type=checkbox id=m-docscwgotutorialsdoclayout-check>
<label for=m-docscwgotutorialsdoclayout-check><a href=/docs/cwgo/tutorials/doc/layout/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsdoclayout><span>layout</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsdocexample_thrift-li><input type=checkbox id=m-docscwgotutorialsdocexample_thrift-check>
<label for=m-docscwgotutorialsdocexample_thrift-check><a href=/docs/cwgo/tutorials/doc/example_thrift/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsdocexample_thrift><span>thrift usage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsdocexample_pb-li><input type=checkbox id=m-docscwgotutorialsdocexample_pb-check>
<label for=m-docscwgotutorialsdocexample_pb-check><a href=/docs/cwgo/tutorials/doc/example_pb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsdocexample_pb><span>protobuf usage</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscwgotutorialsserver-li><input type=checkbox id=m-docscwgotutorialsserver-check>
<label for=m-docscwgotutorialsserver-check><a href=/docs/cwgo/tutorials/server/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorialsserver><span>Server</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsservercommand-li><input type=checkbox id=m-docscwgotutorialsservercommand-check>
<label for=m-docscwgotutorialsservercommand-check><a href=/docs/cwgo/tutorials/server/command/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsservercommand><span>commands</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsserverexample_thrift-li><input type=checkbox id=m-docscwgotutorialsserverexample_thrift-check>
<label for=m-docscwgotutorialsserverexample_thrift-check><a href=/docs/cwgo/tutorials/server/example_thrift/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsserverexample_thrift><span>thrift usage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsserverexample_pb-li><input type=checkbox id=m-docscwgotutorialsserverexample_pb-check>
<label for=m-docscwgotutorialsserverexample_pb-check><a href=/docs/cwgo/tutorials/server/example_pb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsserverexample_pb><span>protobuf usage</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscwgotutorialsapi-list-li><input type=checkbox id=m-docscwgotutorialsapi-list-check>
<label for=m-docscwgotutorialsapi-list-check><a href=/docs/cwgo/tutorials/api-list/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorialsapi-list><span>api-list</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsapi-listcommands-li><input type=checkbox id=m-docscwgotutorialsapi-listcommands-check>
<label for=m-docscwgotutorialsapi-listcommands-check><a href=/docs/cwgo/tutorials/api-list/commands/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsapi-listcommands><span>commands</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsapi-listexample-li><input type=checkbox id=m-docscwgotutorialsapi-listexample-check>
<label for=m-docscwgotutorialsapi-listexample-check><a href=/docs/cwgo/tutorials/api-list/example/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsapi-listexample><span>usage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsapi-listcautions-li><input type=checkbox id=m-docscwgotutorialsapi-listcautions-check>
<label for=m-docscwgotutorialsapi-listcautions-check><a href=/docs/cwgo/tutorials/api-list/cautions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscwgotutorialsapi-listcautions><span>cautions</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsauto-completion-li><input type=checkbox id=m-docscwgotutorialsauto-completion-check>
<label for=m-docscwgotutorialsauto-completion-check><a href=/docs/cwgo/tutorials/auto-completion/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorialsauto-completion><span>auto-completion</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscwgotutorialsfallback-li><input type=checkbox id=m-docscwgotutorialsfallback-check>
<label for=m-docscwgotutorialsfallback-check><a href=/docs/cwgo/tutorials/fallback/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscwgotutorialsfallback><span>Fallback</span></a></label></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/cloudwego/cloudwego.github.io/edit/main/content/en//docs/cwgo/tutorials/templete-extension target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/new/main/content/en//docs/cwgo/tutorials/templete-extension?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/issues/new?labels=bug&amp;template=DOCS_UPDATE.md&amp;title=Template%20Extension" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/cloudwego/cwgo/issues/new/choose target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#template-reading>Template Reading</a><ul><li><a href=#local>Local</a></li><li><a href=#git-https>git https</a></li><li><a href=#git-ssh>git ssh</a></li></ul></li><li><a href=#rpc>RPC</a></li><li><a href=#http>HTTP</a></li><li><a href=#appendix>Appendix</a><ul><li><a href=#kitex-packageinfo-structure-meaning>Kitex PackageInfo structure meaning</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/cwgo/>Cwgo</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/cwgo/tutorials/>Tutorials</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://www.cloudwego.io/docs/cwgo/tutorials/templete-extension/>Template Extension</a></li></ol></nav><div class=td-content><h1>Template Extension</h1><header class=article-meta></header><p>The cwgo tool also supports passing its own template, and the template syntax is the syntax of go template. cwgo also welcomes users to contribute their own templates. Due to the different concepts of RPC and HTTP, the corresponding template variables also have some differences, please refer to the following for details.</p><p>To pass a custom template, add the <code>-template</code> parameter to the command, such as:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cwgo server -type RPC -service <span style=color:#ce5c00;font-weight:700>{</span>service name<span style=color:#ce5c00;font-weight:700>}</span> -idl <span style=color:#ce5c00;font-weight:700>{</span>idl path<span style=color:#ce5c00;font-weight:700>}</span> -template <span style=color:#ce5c00;font-weight:700>{</span>tpl path<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=template-reading>Template Reading</h2><p>cwgo supports reading templates from local or git. git supports https or ssh formats, with <code>-template</code> specifying the template path and <code>-branch</code> specifying the template branch(default to the main branch).</p><p>RPC Server、Client, HTTP Server、Client all support template extension, specific usage can be found in the following text.</p><h3 id=local>Local</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cwgo server -type RPC -service <span style=color:#ce5c00;font-weight:700>{</span>service name<span style=color:#ce5c00;font-weight:700>}</span> -idl <span style=color:#ce5c00;font-weight:700>{</span>idl path<span style=color:#ce5c00;font-weight:700>}</span>  -template <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#204a87>local</span> tpl path<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=git-https>git https</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cwgo server -type RPC -service <span style=color:#ce5c00;font-weight:700>{</span>service name<span style=color:#ce5c00;font-weight:700>}</span> -idl <span style=color:#ce5c00;font-weight:700>{</span>idl path<span style=color:#ce5c00;font-weight:700>}</span>  -template https://github.com/***/cwgo_template.git -branch <span style=color:#ce5c00;font-weight:700>{</span>branch path<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=git-ssh>git ssh</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cwgo server -type RPC -service <span style=color:#ce5c00;font-weight:700>{</span>service name<span style=color:#ce5c00;font-weight:700>}</span> -idl <span style=color:#ce5c00;font-weight:700>{</span>idl path<span style=color:#ce5c00;font-weight:700>}</span>  -template git@github.com:***/cwgo_template.git -branch <span style=color:#ce5c00;font-weight:700>{</span>branch path<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=rpc>RPC</h2><ol><li><p>The template file is delivered through the yaml folder, specified by the <code>--template-dir</code> command line parameter of kitex, all yaml files in this folder will be rendered, and if the template parsing fails, it will exit directly. Watch out for unknown hidden files.</p><p>The yaml file is defined as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># The path and file name of the generated file, which will create a folder in the root directory of the project, and generate a main.go file in the folder, which supports template rendering syntax</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/handler/{{ .Name }}.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>update_behavior</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>skip / cover / append</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Specify update behavior, if loop_method is true, append is not supported. The default is skip</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Test{{.Name}}</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># The searched function name, if the rendered function name exists, it is considered that the method does not need to be appended</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>append_tpl</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># updated content template</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>import_tpl</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># The newly added import content is a list, which can be rendered by template</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>loop_method</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Whether to enable loop rendering</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>template content</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># template content</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></li><li><p><code>extensions.yaml</code> in the folder is a specific file, the content of which is <a href=/docs/kitex/tutorials/code-gen/template_extension/>Extended Service Code</a> configuration file. Please be aware of file naming conflicts.</p></li><li><p>The data used by the template is PackageInfo. It is considered that this part contains all metadata, such as methodInfo, etc. The user only needs to pass the template file, and the data in the template is PackageInfo data. Commonly used content in PackageInfo can be found in the <a href=/docs/cwgo/tutorials/templete-extension/#appendix>Appendix</a>.</p></li><li><p>cwgo supports circularly rendering files according to methodInfo. There is only one element in the methodInfo list during cyclic rendering, which is the method currently being rendered.</p></li><li><p>When updating, currently supports overwriting, skipping and adding files according to methods, and supports appending in one file. If the loop render file is enabled, only skip and cover are supported.</p></li></ol><p>Best practice rpc example tpl can refer to <a href=https://github.com/cloudwego/cwgo/tree/main/tpl/kitex/server/standard>here</a>.</p><h2 id=http>HTTP</h2><ol><li>The template file is delivered through the yaml folder, but unlike the RPC layout, the HTTP layout is implemented based on hertz&rsquo;s custom template. Here we need to specify the yaml file name to be fixed as <code>layout.yaml</code> and <code>package .yaml</code>, for the use of custom templates, please refer to <a href=/docs/hertz/tutorials/toolkit/more-feature/template/>Hz custom template usage documentation</a>.</li></ol><p>Best practice http example tpl can refer to <a href=https://github.com/cloudwego/cwgo/tree/main/tpl/hertz/standard>here</a>.</p><h2 id=appendix>Appendix</h2><h3 id=kitex-packageinfo-structure-meaning>Kitex PackageInfo structure meaning</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>PackageInfo</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Namespace</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// idl namespace, it is recommended not to use under pb</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Dependencies</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// package name =&gt; import path, used for searching imports</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>ServiceInfo</span> <span style=color:#8f5902;font-style:italic>// the target service</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>Codec</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>NoFastAPI</span> <span style=color:#204a87;font-weight:700>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Version</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>RealServiceName</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Imports</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ExternalKitexGen</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Features</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#000>feature</span>
</span></span><span style=display:flex><span>    <span style=color:#000>FrugalPretouch</span> <span style=color:#204a87;font-weight:700>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Module</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// go module name</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>ServiceInfo</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>PkgInfo</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ServiceName</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>RawServiceName</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ServiceTypeName</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>()</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Base</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>ServiceInfo</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Methods</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>MethodInfo</span>
</span></span><span style=display:flex><span>    <span style=color:#000>CombineServices</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>ServiceInfo</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Has</span> <span style=color:#000>Streaming</span> <span style=color:#204a87;font-weight:700>bool</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>PkgInfo</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>PkgName</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// last paragraph of namespace</span>
</span></span><span style=display:flex><span>    <span style=color:#000>PkgRefName</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ImportPath</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// import path of req and resp of this method</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>MethodInfo</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#000>PkgInfo</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ServiceName</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// the name of this service</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Name</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// the name of this method</span>
</span></span><span style=display:flex><span>    <span style=color:#000>RawName</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// Same as above</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Oneway</span> <span style=color:#204a87;font-weight:700>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#000>void</span> <span style=color:#204a87;font-weight:700>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Args</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Parameter</span> <span style=color:#8f5902;font-style:italic>// Input parameter information, including input parameter name, import path, type</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Resp</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Parameter</span> <span style=color:#8f5902;font-style:italic>// output parameter, including input parameter name, import path, type</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Exceptions</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Parameter</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ArgStructName</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ResStructName</span> <span style=color:#204a87;font-weight:700>string</span>
</span></span><span style=display:flex><span>    <span style=color:#000>IsResponseNeedRedirect</span> <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#8f5902;font-style:italic>// int -&gt; int*</span>
</span></span><span style=display:flex><span>    <span style=color:#000>GenArgResultStruct</span> <span style=color:#204a87;font-weight:700>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#000>ClientStreaming</span> <span style=color:#204a87;font-weight:700>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#000>Server</span> <span style=color:#000>Streaming</span> <span style=color:#204a87;font-weight:700>bool</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><div class=section-index></div><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof ga!="function")return;const t={command:"send",hitType:"event",category:"Helpful",action:"click",label:window.location.pathname,value:e};ga(t.command,t.hitType,t.category,t.action,t.label,t.value)};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(1)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified
March 7, 2025
: <a href=https://github.com/cloudwego/cloudwego.github.io/commit/590388601ba4c26232b5ba3dcdef1bb571867ba4>doc: update plugin install guide (#1272) (5903886)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Lark aria-label=Lark><a class=text-white target=_blank rel=noopener href="https://applink.feishu.cn/client/chat/chatter/add_by_link?link_token=693v2544-2664-4421-b50f-7f1912p745r6" aria-label=Lark><img src=/webfonts/lark.svg alt style=width:26px;line-height:32.5px;margin-bottom:6px;fill:#fff></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/CloudWeGo aria-label=Twitter><img src=/webfonts/x-twitter.svg alt style=width:26px;line-height:32.5px;margin-bottom:6px;fill:#fff></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/cloudwego aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discord aria-label=Discord><a class=text-white target=_blank rel=noopener href=https://discord.gg/jceZSE7DsW aria-label=Discord><i class="fab fa-discord"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2025 The CloudWeGo Authors</small><p class="mt-2 text-white"><a class=cloudwego-link href=/about/ target=_blank rel=noopener>About</a>
|
<a class=cloudwego-link href=https://github.com/cloudwego/cloudwego.github.io/blob/main/LICENSE target=_blank rel=noopener>License</a></p></div></div></div></footer></div><script src=/js/popper.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/main.min.9a8648b987db06195f5768f0d7516e8df7c27669e91e383e25c5d07cd6325605.js integrity="sha256-moZIuYfbBhlfV2jw11FujffCdmnpHjg+JcXQfNYyVgU=" crossorigin=anonymous></script><script src=/js/prism.js></script><script src=/js/prism-custom.js></script><script src=/js/tabpane-persist.js></script><script src=/js/docsearch.js></script><script type=text/javascript>let siteLang=window.location.pathname.startsWith("/zh/")?"zh":"en";docsearch({appId:"V7I042F992",apiKey:"8380a7ac88106841cb43fb000fa2edb4",indexName:"cloudwego",container:"#docsearch",searchParameters:{hitsPerPage:5,facetFilters:[`lang:${siteLang}`]},transformItems(e){return e.map(e=>({...e,url:e.url.replace("www.cloudwego.io",location.host).replace("https:",location.protocol)}))}})</script><script src=/js/outbound-link.js></script><script src=/js/navScroll.js></script></body></html>